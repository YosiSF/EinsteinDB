{"config":{"output_fuse":null,"full_docs":false,"pub_only":true,"reachable_only":true,"distro_crate":false,"signatures":false,"borrow_data":false},"version":"0.19.1","compilation":{"directory":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8","program":"/Users/tyco/.rustup/toolchains/stable-x86_64-apple-darwin/bin/rls","arguments":["--crate-name","arc_swap","/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","--json=diagnostic-rendered-ansi","--crate-type","lib","--emit=dep-info,metadata","-C","embed-bitcode=no","-C","split-debuginfo=unpacked","-C","debuginfo=2","-C","metadata=ada31c1c6d028f91","-C","extra-fusename=-ada31c1c6d028f91","--out-dir","/Users/tyco/Documents/GitHub/EinsteinDB/target/rls/debug/deps","-L","dependency=/Users/tyco/Documents/GitHub/EinsteinDB/target/rls/debug/deps","--cap-lints","allow","--error-format=json","--sysroot","/Users/tyco/.rustup/toolchains/stable-x86_64-apple-darwin"],"output":"/Users/tyco/Documents/GitHub/EinsteinDB/target/rls/debug/deps/libarc_swap-ada31c1c6d028f91.rmeta"},"prelude":{"crate_id":{"name":"arc_swap","disambiguator":[16740590916486675483,0]},"crate_root":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src","lightlike_crates":[{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":1,"id":{"name":"std","disambiguator":[5737620048972976797,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":2,"id":{"name":"core","disambiguator":[2242199718071837415,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":3,"id":{"name":"compiler_builtins","disambiguator":[2188212999151601010,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":4,"id":{"name":"rustc_std_workspace_core","disambiguator":[1020664553731942337,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":5,"id":{"name":"alloc","disambiguator":[5221923779696816614,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":6,"id":{"name":"libc","disambiguator":[10454403582981253701,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":7,"id":{"name":"unwind","disambiguator":[7392107620293427149,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":8,"id":{"name":"cfg_if","disambiguator":[9383090470819858406,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":9,"id":{"name":"hashbrown","disambiguator":[13561338507145107503,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":10,"id":{"name":"rustc_std_workspace_alloc","disambiguator":[2153887466384468734,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":11,"id":{"name":"rustc_demangle","disambiguator":[11638676648589799525,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":12,"id":{"name":"std_detect","disambiguator":[17336646944492823354,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":13,"id":{"name":"addr2line","disambiguator":[16179365956064936006,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":14,"id":{"name":"gimli","disambiguator":[2085897901681677768,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":15,"id":{"name":"object","disambiguator":[4724748409658749452,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":16,"id":{"name":"memchr","disambiguator":[13513626471981952824,0]}},{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","num":17,"id":{"name":"panic_unwind","disambiguator":[14681960900203760207,0]}}],"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":0,"byte_end":73998,"line_start":1,"line_end":1860,"column_start":1,"column_end":2}},"imports":[{"kind":"Use","ref_id":{"krate":0,"index":664},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":13219,"byte_end":13224,"line_start":292,"line_end":292,"column_start":16,"column_end":21},"alias_span":null,"name":"Cache","value":"","parent":{"krate":0,"index":0}},{"kind":"Use","ref_id":{"krate":0,"index":300},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":13323,"byte_end":13329,"line_start":295,"line_end":295,"column_start":18,"column_end":24},"alias_span":null,"name":"RefCnt","value":"","parent":{"krate":0,"index":0}}],"defs":[{"kind":"Mod","id":{"krate":0,"index":0},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":0,"byte_end":73998,"line_start":1,"line_end":1860,"column_start":1,"column_end":2},"name":"","qualname":"::","value":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","parent":null,"children":[{"krate":0,"index":1},{"krate":0,"index":2},{"krate":0,"index":3},{"krate":0,"index":105},{"krate":0,"index":134},{"krate":0,"index":182},{"krate":0,"index":183},{"krate":0,"index":241},{"krate":0,"index":290},{"krate":0,"index":325},{"krate":0,"index":326},{"krate":0,"index":327},{"krate":0,"index":329},{"krate":0,"index":332},{"krate":0,"index":335},{"krate":0,"index":338},{"krate":0,"index":341},{"krate":0,"index":342},{"krate":0,"index":344},{"krate":0,"index":345},{"krate":0,"index":348},{"krate":0,"index":351},{"krate":0,"index":354},{"krate":0,"index":357},{"krate":0,"index":360},{"krate":0,"index":361},{"krate":0,"index":364},{"krate":0,"index":367},{"krate":0,"index":370},{"krate":0,"index":373},{"krate":0,"index":376},{"krate":0,"index":379},{"krate":0,"index":380},{"krate":0,"index":383},{"krate":0,"index":386},{"krate":0,"index":389},{"krate":0,"index":392},{"krate":0,"index":395},{"krate":0,"index":396},{"krate":0,"index":397},{"krate":0,"index":399},{"krate":0,"index":402},{"krate":0,"index":405},{"krate":0,"index":408},{"krate":0,"index":411},{"krate":0,"index":412},{"krate":0,"index":415},{"krate":0,"index":420},{"krate":0,"index":423},{"krate":0,"index":433},{"krate":0,"index":436},{"krate":0,"index":441},{"krate":0,"index":447},{"krate":0,"index":452},{"krate":0,"index":456},{"krate":0,"index":460},{"krate":0,"index":464},{"krate":0,"index":734},{"krate":0,"index":739},{"krate":0,"index":740},{"krate":0,"index":468},{"krate":0,"index":469},{"krate":0,"index":475},{"krate":0,"index":479},{"krate":0,"index":483},{"krate":0,"index":487},{"krate":0,"index":491},{"krate":0,"index":495},{"krate":0,"index":499},{"krate":0,"index":525},{"krate":0,"index":527},{"krate":0,"index":535},{"krate":0,"index":537},{"krate":0,"index":543}],"decl_id":null,"docs":" Making [`Arc`][Arc] itself atomic","sig":null,"attributes":[{"value":"deny(missing_docs, warnings)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":106,"byte_end":138,"line_start":5,"line_end":5,"column_start":1,"column_end":33}},{"value":"allow(unknown_lints, bare_trait_objects, renamed_and_removed_lints)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":184,"byte_end":255,"line_start":7,"line_end":7,"column_start":1,"column_end":72}},{"value":"/ Making [`Arc`][Arc] itself atomic","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":257,"byte_end":294,"line_start":9,"line_end":9,"column_start":1,"column_end":38}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":295,"byte_end":298,"line_start":10,"line_end":10,"column_start":1,"column_end":4}},{"value":"/ The library provides a type that is somewhat similar to what `RwLock<Arc<T>>` is or","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":299,"byte_end":386,"line_start":11,"line_end":11,"column_start":1,"column_end":88}},{"value":"/ `Atomic<Arc<T>>` would be if it existed, optimized for read-mostly update-seldom scenarios,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":387,"byte_end":482,"line_start":12,"line_end":12,"column_start":1,"column_end":96}},{"value":"/ with consistent performance characteristics.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":483,"byte_end":531,"line_start":13,"line_end":13,"column_start":1,"column_end":49}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":532,"byte_end":535,"line_start":14,"line_end":14,"column_start":1,"column_end":4}},{"value":"/ # Motivation","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":536,"byte_end":552,"line_start":15,"line_end":15,"column_start":1,"column_end":17}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":553,"byte_end":556,"line_start":16,"line_end":16,"column_start":1,"column_end":4}},{"value":"/ There are many situations in which one might want to have some data structure that is often","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":557,"byte_end":652,"line_start":17,"line_end":17,"column_start":1,"column_end":96}},{"value":"/ read and seldom updated. Some examples might be a configuration of a service, routing tables,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":653,"byte_end":750,"line_start":18,"line_end":18,"column_start":1,"column_end":98}},{"value":"/ lightlike_persistence of some data that is renewed every few minutes, etc.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":751,"byte_end":816,"line_start":19,"line_end":19,"column_start":1,"column_end":66}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":817,"byte_end":820,"line_start":20,"line_end":20,"column_start":1,"column_end":4}},{"value":"/ In all these cases one needs:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":821,"byte_end":854,"line_start":21,"line_end":21,"column_start":1,"column_end":34}},{"value":"/ * Being able to read the current value of the data structure, *fast*.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":855,"byte_end":928,"line_start":22,"line_end":22,"column_start":1,"column_end":74}},{"value":"/ * Using the same version of the data structure over longer period of time ‒ a query should be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":929,"byte_end":1028,"line_start":23,"line_end":23,"column_start":1,"column_end":98}},{"value":"/   answered by a consistent version of data, a packet should be routed either by an old or by a","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1029,"byte_end":1127,"line_start":24,"line_end":24,"column_start":1,"column_end":99}},{"value":"/   new version of the routing table but not by a combination, etc.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1128,"byte_end":1197,"line_start":25,"line_end":25,"column_start":1,"column_end":70}},{"value":"/ * Perform an update without disrupting the processing.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1198,"byte_end":1256,"line_start":26,"line_end":26,"column_start":1,"column_end":59}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1257,"byte_end":1260,"line_start":27,"line_end":27,"column_start":1,"column_end":4}},{"value":"/ The first idea would be to use [`RwLock<T>`][RwLock] and keep a read-lock for the whole time of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1261,"byte_end":1360,"line_start":28,"line_end":28,"column_start":1,"column_end":100}},{"value":"/ processing. Update would, however, pause all processing until done.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1361,"byte_end":1432,"line_start":29,"line_end":29,"column_start":1,"column_end":72}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1433,"byte_end":1436,"line_start":30,"line_end":30,"column_start":1,"column_end":4}},{"value":"/ Better option would be to have [`RwLock<Arc<T>>`][RwLock]. Then one would lock, clone the [Arc]","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1437,"byte_end":1536,"line_start":31,"line_end":31,"column_start":1,"column_end":100}},{"value":"/ and unlock. This suffers from CPU-level contention (on the lock and on the reference count of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1537,"byte_end":1634,"line_start":32,"line_end":32,"column_start":1,"column_end":98}},{"value":"/ the [Arc]) which makes it relatively slow. Depending on the implementation, an update may be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1635,"byte_end":1731,"line_start":33,"line_end":33,"column_start":1,"column_end":97}},{"value":"/ blocked for arbitrary long time by a steady inflow of readers.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1732,"byte_end":1798,"line_start":34,"line_end":34,"column_start":1,"column_end":67}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1799,"byte_end":1802,"line_start":35,"line_end":35,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1803,"byte_end":1814,"line_start":36,"line_end":36,"column_start":1,"column_end":12}},{"value":"/ # extern crate once_cell;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1815,"byte_end":1844,"line_start":37,"line_end":37,"column_start":1,"column_end":30}},{"value":"/ # use std::sync::{Arc, RwLock};","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1845,"byte_end":1880,"line_start":38,"line_end":38,"column_start":1,"column_end":36}},{"value":"/ # use once_cell::sync::Lazy;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1881,"byte_end":1913,"line_start":39,"line_end":39,"column_start":1,"column_end":33}},{"value":"/ # struct RoutingTable; struct Packet; impl RoutingTable { fn route(&self, _: Packet) {} }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":1914,"byte_end":2007,"line_start":40,"line_end":40,"column_start":1,"column_end":94}},{"value":"/ static ROUTING_TABLE: Lazy<RwLock<Arc<RoutingTable>>> = Lazy::new(|| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2008,"byte_end":2082,"line_start":41,"line_end":41,"column_start":1,"column_end":75}},{"value":"/     RwLock::new(Arc::new(RoutingTable))","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2083,"byte_end":2126,"line_start":42,"line_end":42,"column_start":1,"column_end":44}},{"value":"/ });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2127,"byte_end":2134,"line_start":43,"line_end":43,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2135,"byte_end":2138,"line_start":44,"line_end":44,"column_start":1,"column_end":4}},{"value":"/ fn process_packet(packet: Packet) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2139,"byte_end":2178,"line_start":45,"line_end":45,"column_start":1,"column_end":40}},{"value":"/     let table = Arc::clone(&ROUTING_TABLE.read().unwrap());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2179,"byte_end":2242,"line_start":46,"line_end":46,"column_start":1,"column_end":64}},{"value":"/     table.route(packet);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2243,"byte_end":2271,"line_start":47,"line_end":47,"column_start":1,"column_end":29}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2272,"byte_end":2277,"line_start":48,"line_end":48,"column_start":1,"column_end":6}},{"value":"/ # fn main() { process_packet(Packet); }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2278,"byte_end":2321,"line_start":49,"line_end":49,"column_start":1,"column_end":44}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2322,"byte_end":2329,"line_start":50,"line_end":50,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2330,"byte_end":2333,"line_start":51,"line_end":51,"column_start":1,"column_end":4}},{"value":"/ The [ArcSwap] can be used instead, which solves the above problems and has better performance","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2334,"byte_end":2431,"line_start":52,"line_end":52,"column_start":1,"column_end":98}},{"value":"/ characteristics than the [RwLock], both in contended and non-contended scenarios.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2432,"byte_end":2517,"line_start":53,"line_end":53,"column_start":1,"column_end":86}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2518,"byte_end":2521,"line_start":54,"line_end":54,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2522,"byte_end":2533,"line_start":55,"line_end":55,"column_start":1,"column_end":12}},{"value":"/ # extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2534,"byte_end":2562,"line_start":56,"line_end":56,"column_start":1,"column_end":29}},{"value":"/ # extern crate once_cell;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2563,"byte_end":2592,"line_start":57,"line_end":57,"column_start":1,"column_end":30}},{"value":"/ # use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2593,"byte_end":2621,"line_start":58,"line_end":58,"column_start":1,"column_end":29}},{"value":"/ # use once_cell::sync::Lazy;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2622,"byte_end":2654,"line_start":59,"line_end":59,"column_start":1,"column_end":33}},{"value":"/ # struct RoutingTable; struct Packet; impl RoutingTable { fn route(&self, _: Packet) {} }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2655,"byte_end":2748,"line_start":60,"line_end":60,"column_start":1,"column_end":94}},{"value":"/ static ROUTING_TABLE: Lazy<ArcSwap<RoutingTable>> = Lazy::new(|| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2749,"byte_end":2819,"line_start":61,"line_end":61,"column_start":1,"column_end":71}},{"value":"/     ArcSwap::from_pointee(RoutingTable)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2820,"byte_end":2863,"line_start":62,"line_end":62,"column_start":1,"column_end":44}},{"value":"/ });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2864,"byte_end":2871,"line_start":63,"line_end":63,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2872,"byte_end":2875,"line_start":64,"line_end":64,"column_start":1,"column_end":4}},{"value":"/ fn process_packet(packet: Packet) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2876,"byte_end":2915,"line_start":65,"line_end":65,"column_start":1,"column_end":40}},{"value":"/     let table = ROUTING_TABLE.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2916,"byte_end":2957,"line_start":66,"line_end":66,"column_start":1,"column_end":42}},{"value":"/     table.route(packet);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2958,"byte_end":2986,"line_start":67,"line_end":67,"column_start":1,"column_end":29}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2987,"byte_end":2992,"line_start":68,"line_end":68,"column_start":1,"column_end":6}},{"value":"/ # fn main() { process_packet(Packet); }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":2993,"byte_end":3036,"line_start":69,"line_end":69,"column_start":1,"column_end":44}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3037,"byte_end":3044,"line_start":70,"line_end":70,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3045,"byte_end":3048,"line_start":71,"line_end":71,"column_start":1,"column_end":4}},{"value":"/ # Type aliases","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3049,"byte_end":3067,"line_start":72,"line_end":72,"column_start":1,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3068,"byte_end":3071,"line_start":73,"line_end":73,"column_start":1,"column_end":4}},{"value":"/ The most interesting types in the crate are the [ArcSwap] and [ArcSwapOption] (the latter","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3072,"byte_end":3165,"line_start":74,"line_end":74,"column_start":1,"column_end":94}},{"value":"/ similar to `Atomic<Option<Arc<T>>>`). These are the types users will want to use.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3166,"byte_end":3251,"line_start":75,"line_end":75,"column_start":1,"column_end":86}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3252,"byte_end":3255,"line_start":76,"line_end":76,"column_start":1,"column_end":4}},{"value":"/ Note, however, that these are type aliases of the [ArcSwapAny]. While that type is the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3256,"byte_end":3346,"line_start":77,"line_end":77,"column_start":1,"column_end":91}},{"value":"/ low-level implementation and usually isn't referred to directly in the user code, all the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3347,"byte_end":3440,"line_start":78,"line_end":78,"column_start":1,"column_end":94}},{"value":"/ relevant methods (and therefore documentation) is on it.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3441,"byte_end":3501,"line_start":79,"line_end":79,"column_start":1,"column_end":61}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3502,"byte_end":3505,"line_start":80,"line_end":80,"column_start":1,"column_end":4}},{"value":"/ # Atomic orderings","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3506,"byte_end":3528,"line_start":81,"line_end":81,"column_start":1,"column_end":23}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3529,"byte_end":3532,"line_start":82,"line_end":82,"column_start":1,"column_end":4}},{"value":"/ Each operation on the [ArcSwapAny] type callable concurrently (eg. [load], but not","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3533,"byte_end":3619,"line_start":83,"line_end":83,"column_start":1,"column_end":87}},{"value":"/ [into_inner]) contains at least one SeqCst atomic read-write operation, therefore even","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3620,"byte_end":3710,"line_start":84,"line_end":84,"column_start":1,"column_end":91}},{"value":"/ operations on different instances have a defined global order of operations.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3711,"byte_end":3791,"line_start":85,"line_end":85,"column_start":1,"column_end":81}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3792,"byte_end":3795,"line_start":86,"line_end":86,"column_start":1,"column_end":4}},{"value":"/ # Less usual needs","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3796,"byte_end":3818,"line_start":87,"line_end":87,"column_start":1,"column_end":23}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3819,"byte_end":3822,"line_start":88,"line_end":88,"column_start":1,"column_end":4}},{"value":"/ There are some utilities that make the crate useful in more places than just the basics","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3823,"byte_end":3914,"line_start":89,"line_end":89,"column_start":1,"column_end":92}},{"value":"/ described above.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3915,"byte_end":3935,"line_start":90,"line_end":90,"column_start":1,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3936,"byte_end":3939,"line_start":91,"line_end":91,"column_start":1,"column_end":4}},{"value":"/ The [load_signal_safe] method can be safely used inside unix signal handlers (it is the only","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":3940,"byte_end":4036,"line_start":92,"line_end":92,"column_start":1,"column_end":97}},{"value":"/ one guaranteed to be safe there).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4037,"byte_end":4074,"line_start":93,"line_end":93,"column_start":1,"column_end":38}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4075,"byte_end":4078,"line_start":94,"line_end":94,"column_start":1,"column_end":4}},{"value":"/ The [Cache] allows further speed improvements over simply using [load] every time. The downside","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4079,"byte_end":4178,"line_start":95,"line_end":95,"column_start":1,"column_end":100}},{"value":"/ is less comfortable API (the caller needs to keep the cache around). Also, a cache may keep the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4179,"byte_end":4278,"line_start":96,"line_end":96,"column_start":1,"column_end":100}},{"value":"/ older version of the value alive even when it is not in active use, until the cache is","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4279,"byte_end":4369,"line_start":97,"line_end":97,"column_start":1,"column_end":91}},{"value":"/ re-validated.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4370,"byte_end":4387,"line_start":98,"line_end":98,"column_start":1,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4388,"byte_end":4391,"line_start":99,"line_end":99,"column_start":1,"column_end":4}},{"value":"/ The [access] module (and similar traits in the [cache] module) allows shielding independent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4392,"byte_end":4487,"line_start":100,"line_end":100,"column_start":1,"column_end":96}},{"value":"/ parts of application from each other and from the exact structure of the *whole* configuration.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4488,"byte_end":4587,"line_start":101,"line_end":101,"column_start":1,"column_end":100}},{"value":"/ This helps structuring the application and giving it access only to its own parts of the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4588,"byte_end":4680,"line_start":102,"line_end":102,"column_start":1,"column_end":93}},{"value":"/ configuration.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4681,"byte_end":4699,"line_start":103,"line_end":103,"column_start":1,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4700,"byte_end":4703,"line_start":104,"line_end":104,"column_start":1,"column_end":4}},{"value":"/ Finally, the [gen_lock] module allows further customization of low-level locking/concurrency","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4704,"byte_end":4800,"line_start":105,"line_end":105,"column_start":1,"column_end":97}},{"value":"/ details.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4801,"byte_end":4813,"line_start":106,"line_end":106,"column_start":1,"column_end":13}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4814,"byte_end":4817,"line_start":107,"line_end":107,"column_start":1,"column_end":4}},{"value":"/ # Performance characteristics","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4818,"byte_end":4851,"line_start":108,"line_end":108,"column_start":1,"column_end":34}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4852,"byte_end":4855,"line_start":109,"line_end":109,"column_start":1,"column_end":4}},{"value":"/ There are several performance advantages of [ArcSwap] over [RwLock].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4856,"byte_end":4928,"line_start":110,"line_end":110,"column_start":1,"column_end":73}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4929,"byte_end":4932,"line_start":111,"line_end":111,"column_start":1,"column_end":4}},{"value":"/ ## Lock-free readers","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4933,"byte_end":4957,"line_start":112,"line_end":112,"column_start":1,"column_end":25}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4958,"byte_end":4961,"line_start":113,"line_end":113,"column_start":1,"column_end":4}},{"value":"/ All the read operations are always [lock-free]. Most of the time, they are actually","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":4962,"byte_end":5049,"line_start":114,"line_end":114,"column_start":1,"column_end":88}},{"value":"/ [wait-free], the notable exception is the first [load] access in each thread (across all the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5050,"byte_end":5146,"line_start":115,"line_end":115,"column_start":1,"column_end":97}},{"value":"/ instances of [ArcSwap]), as it sets up some thread-local data structures.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5147,"byte_end":5224,"line_start":116,"line_end":116,"column_start":1,"column_end":78}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5225,"byte_end":5228,"line_start":117,"line_end":117,"column_start":1,"column_end":4}},{"value":"/ Whenever the documentation talks about *contention* in the context of [ArcSwap], it talks about","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5229,"byte_end":5328,"line_start":118,"line_end":118,"column_start":1,"column_end":100}},{"value":"/ contention on the CPU level ‒ multpile cores having to deal with accessing the same cache line.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5329,"byte_end":5430,"line_start":119,"line_end":119,"column_start":1,"column_end":100}},{"value":"/ This slows things down (compared to each one accessing its own cache line), but an eventual","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5431,"byte_end":5526,"line_start":120,"line_end":120,"column_start":1,"column_end":96}},{"value":"/ progress is still guaranteed and the cost is significantly lower than parking threads as with","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5527,"byte_end":5624,"line_start":121,"line_end":121,"column_start":1,"column_end":98}},{"value":"/ mutex-style contention.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5625,"byte_end":5652,"line_start":122,"line_end":122,"column_start":1,"column_end":28}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5653,"byte_end":5656,"line_start":123,"line_end":123,"column_start":1,"column_end":4}},{"value":"/ Unfortunately writers are *not* [lock-free]. A reader stuck (suspended/killed) in a critical","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5657,"byte_end":5753,"line_start":124,"line_end":124,"column_start":1,"column_end":97}},{"value":"/ section (few instructions long in case of [load]) may block a writer from completion.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5754,"byte_end":5843,"line_start":125,"line_end":125,"column_start":1,"column_end":90}},{"value":"/ Nevertheless, a steady inflow of new readers nor other writers will not block the writer.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5844,"byte_end":5937,"line_start":126,"line_end":126,"column_start":1,"column_end":94}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5938,"byte_end":5941,"line_start":127,"line_end":127,"column_start":1,"column_end":4}},{"value":"/ ## Speeds","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5942,"byte_end":5955,"line_start":128,"line_end":128,"column_start":1,"column_end":14}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5956,"byte_end":5959,"line_start":129,"line_end":129,"column_start":1,"column_end":4}},{"value":"/ The base line speed of read operations is similar to using an *uncontended* [`Mutex`][Mutex].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":5960,"byte_end":6057,"line_start":130,"line_end":130,"column_start":1,"column_end":98}},{"value":"/ However, [load] suffers no contention from any other read operations and only slight","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6058,"byte_end":6146,"line_start":131,"line_end":131,"column_start":1,"column_end":89}},{"value":"/ ones during updates. The [`load_full`][load_full] operation is additionally contended only on","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6147,"byte_end":6244,"line_start":132,"line_end":132,"column_start":1,"column_end":98}},{"value":"/ the reference count of the [Arc] inside ‒ so, in general, while [Mutex] rapidly","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6245,"byte_end":6330,"line_start":133,"line_end":133,"column_start":1,"column_end":84}},{"value":"/ loses its performance when being in active use by multiple threads at once and","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6331,"byte_end":6413,"line_start":134,"line_end":134,"column_start":1,"column_end":83}},{"value":"/ [RwLock] is slow to start with, [ArcSwap] mostly keeps its performance even when read by many","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6414,"byte_end":6511,"line_start":135,"line_end":135,"column_start":1,"column_end":98}},{"value":"/ threads in parallel.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6512,"byte_end":6536,"line_start":136,"line_end":136,"column_start":1,"column_end":25}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6537,"byte_end":6540,"line_start":137,"line_end":137,"column_start":1,"column_end":4}},{"value":"/ Write operations are considered expensive. A write operation is more expensive than access to","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6541,"byte_end":6638,"line_start":138,"line_end":138,"column_start":1,"column_end":98}},{"value":"/ an *uncontended* [Mutex] and on some architectures even slower than uncontended","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6639,"byte_end":6722,"line_start":139,"line_end":139,"column_start":1,"column_end":84}},{"value":"/ [RwLock]. However, it is faster than either under contention.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6723,"byte_end":6788,"line_start":140,"line_end":140,"column_start":1,"column_end":66}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6789,"byte_end":6792,"line_start":141,"line_end":141,"column_start":1,"column_end":4}},{"value":"/ There are some (very unscientific) [benchmarks] within the source code of the library.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6793,"byte_end":6883,"line_start":142,"line_end":142,"column_start":1,"column_end":91}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6884,"byte_end":6887,"line_start":143,"line_end":143,"column_start":1,"column_end":4}},{"value":"/ The exact numbers are highly dependant on the machine used (both absolute numbers and relative","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6888,"byte_end":6986,"line_start":144,"line_end":144,"column_start":1,"column_end":99}},{"value":"/ between different data structures). Not only architectures have a huge impact (eg. x86 vs ARM),","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":6987,"byte_end":7086,"line_start":145,"line_end":145,"column_start":1,"column_end":100}},{"value":"/ but even AMD vs. Intel or two different Intel processors. Therefore, if what matters is more","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7087,"byte_end":7183,"line_start":146,"line_end":146,"column_start":1,"column_end":97}},{"value":"/ the speed than the wait-free guarantees, you're advised to do your own measurements.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7184,"byte_end":7272,"line_start":147,"line_end":147,"column_start":1,"column_end":89}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7273,"byte_end":7276,"line_start":148,"line_end":148,"column_start":1,"column_end":4}},{"value":"/ Further speed improvements may be gained by the use of the [Cache].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7277,"byte_end":7348,"line_start":149,"line_end":149,"column_start":1,"column_end":72}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7349,"byte_end":7352,"line_start":150,"line_end":150,"column_start":1,"column_end":4}},{"value":"/ ## Consistency","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7353,"byte_end":7371,"line_start":151,"line_end":151,"column_start":1,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7372,"byte_end":7375,"line_start":152,"line_end":152,"column_start":1,"column_end":4}},{"value":"/ The combination of [wait-free] guarantees of readers and no contention between concurrent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7376,"byte_end":7469,"line_start":153,"line_end":153,"column_start":1,"column_end":94}},{"value":"/ [load]s provides *consistent* performance characteristics of the synchronization mechanism.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7470,"byte_end":7565,"line_start":154,"line_end":154,"column_start":1,"column_end":96}},{"value":"/ This might be important for soft-realtime applications (the CPU-level contention caused by a","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7566,"byte_end":7662,"line_start":155,"line_end":155,"column_start":1,"column_end":97}},{"value":"/ recent update/write operation might be problematic for some hard-realtime cases, though).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7663,"byte_end":7756,"line_start":156,"line_end":156,"column_start":1,"column_end":94}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7757,"byte_end":7760,"line_start":157,"line_end":157,"column_start":1,"column_end":4}},{"value":"/ ## Choosing the right reading operation","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7761,"byte_end":7804,"line_start":158,"line_end":158,"column_start":1,"column_end":44}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7805,"byte_end":7808,"line_start":159,"line_end":159,"column_start":1,"column_end":4}},{"value":"/ There are several load operations available. While the general go-to one should be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7809,"byte_end":7895,"line_start":160,"line_end":160,"column_start":1,"column_end":87}},{"value":"/ [load], there may be situations in which the others are a better match.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7896,"byte_end":7971,"line_start":161,"line_end":161,"column_start":1,"column_end":76}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7972,"byte_end":7975,"line_start":162,"line_end":162,"column_start":1,"column_end":4}},{"value":"/ The [load] usually only borrows the instance from the shared [ArcSwap]. This makes","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":7976,"byte_end":8062,"line_start":163,"line_end":163,"column_start":1,"column_end":87}},{"value":"/ it faster, because different threads don't contend on the reference count. There are two","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8063,"byte_end":8155,"line_start":164,"line_end":164,"column_start":1,"column_end":93}},{"value":"/ situations when this borrow isn't possible. If the content gets changed, all existing","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8156,"byte_end":8245,"line_start":165,"line_end":165,"column_start":1,"column_end":90}},{"value":"/ [`Guard`][Guard]s are promoted to contain an owned instance. The promotion is done by the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8246,"byte_end":8339,"line_start":166,"line_end":166,"column_start":1,"column_end":94}},{"value":"/ writer, but the readers still need to decrement the reference counts of the old instance when","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8340,"byte_end":8437,"line_start":167,"line_end":167,"column_start":1,"column_end":98}},{"value":"/ they no longer use it, contending on the count.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8438,"byte_end":8489,"line_start":168,"line_end":168,"column_start":1,"column_end":52}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8490,"byte_end":8493,"line_start":169,"line_end":169,"column_start":1,"column_end":4}},{"value":"/ The other situation derives from internal implementation. The number of borrows each thread can","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8494,"byte_end":8593,"line_start":170,"line_end":170,"column_start":1,"column_end":100}},{"value":"/ have at each time (across all [Guard]s) is limited. If this limit is exceeded, an onwed","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8594,"byte_end":8685,"line_start":171,"line_end":171,"column_start":1,"column_end":92}},{"value":"/ instance is created instead.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8686,"byte_end":8718,"line_start":172,"line_end":172,"column_start":1,"column_end":33}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8719,"byte_end":8722,"line_start":173,"line_end":173,"column_start":1,"column_end":4}},{"value":"/ Therefore, if you intend to hold onto the loaded value for extended time span, you may prefer","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8723,"byte_end":8820,"line_start":174,"line_end":174,"column_start":1,"column_end":98}},{"value":"/ [load_full]. It loads the pointer instance (`Arc`) without borrowing, which is","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8821,"byte_end":8903,"line_start":175,"line_end":175,"column_start":1,"column_end":83}},{"value":"/ slower (because of the possible contention on the reference count), but doesn't consume one of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":8904,"byte_end":9002,"line_start":176,"line_end":176,"column_start":1,"column_end":99}},{"value":"/ the borrow slots, which will make it more likely for following [load]s to have a slot","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9003,"byte_end":9092,"line_start":177,"line_end":177,"column_start":1,"column_end":90}},{"value":"/ available. Similarly, if some API needs an owned `Arc`, [load_full] is more convenient.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9093,"byte_end":9184,"line_start":178,"line_end":178,"column_start":1,"column_end":92}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9185,"byte_end":9188,"line_start":179,"line_end":179,"column_start":1,"column_end":4}},{"value":"/ There's also [load_signal_safe]. This is the only method guaranteed to be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9189,"byte_end":9266,"line_start":180,"line_end":180,"column_start":1,"column_end":78}},{"value":"/ safely usable inside a unix signal handler. It has no advantages outside of them, so it makes","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9267,"byte_end":9364,"line_start":181,"line_end":181,"column_start":1,"column_end":98}},{"value":"/ it kind of niche one.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9365,"byte_end":9390,"line_start":182,"line_end":182,"column_start":1,"column_end":26}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9391,"byte_end":9394,"line_start":183,"line_end":183,"column_start":1,"column_end":4}},{"value":"/ Additionally, it is possible to use a [`Cache`][Cache] to get further speed improvement at the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9395,"byte_end":9493,"line_start":184,"line_end":184,"column_start":1,"column_end":99}},{"value":"/ cost of less comfortable API and possibly keeping the older values alive for longer than","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9494,"byte_end":9586,"line_start":185,"line_end":185,"column_start":1,"column_end":93}},{"value":"/ necessary.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9587,"byte_end":9601,"line_start":186,"line_end":186,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9602,"byte_end":9605,"line_start":187,"line_end":187,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9606,"byte_end":9620,"line_start":188,"line_end":188,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9621,"byte_end":9624,"line_start":189,"line_end":189,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9625,"byte_end":9636,"line_start":190,"line_end":190,"column_start":1,"column_end":12}},{"value":"/ extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9637,"byte_end":9663,"line_start":191,"line_end":191,"column_start":1,"column_end":27}},{"value":"/ extern crate crossbeam_utils;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9664,"byte_end":9697,"line_start":192,"line_end":192,"column_start":1,"column_end":34}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9698,"byte_end":9701,"line_start":193,"line_end":193,"column_start":1,"column_end":4}},{"value":"/ use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9702,"byte_end":9725,"line_start":194,"line_end":194,"column_start":1,"column_end":24}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9726,"byte_end":9729,"line_start":195,"line_end":195,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9730,"byte_end":9756,"line_start":196,"line_end":196,"column_start":1,"column_end":27}},{"value":"/ use crossbeam_utils::thread;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9757,"byte_end":9789,"line_start":197,"line_end":197,"column_start":1,"column_end":33}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9790,"byte_end":9793,"line_start":198,"line_end":198,"column_start":1,"column_end":4}},{"value":"/ fn main() {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9794,"byte_end":9809,"line_start":199,"line_end":199,"column_start":1,"column_end":16}},{"value":"/     let config = ArcSwap::from(Arc::new(String::default()));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9810,"byte_end":9874,"line_start":200,"line_end":200,"column_start":1,"column_end":65}},{"value":"/     thread::scope(|scope| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9875,"byte_end":9906,"line_start":201,"line_end":201,"column_start":1,"column_end":32}},{"value":"/         scope.spawn(|_| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9907,"byte_end":9936,"line_start":202,"line_end":202,"column_start":1,"column_end":30}},{"value":"/             let new_conf = Arc::new(\"New configuration\".to_owned());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":9937,"byte_end":10009,"line_start":203,"line_end":203,"column_start":1,"column_end":73}},{"value":"/             config.store(new_conf);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10010,"byte_end":10049,"line_start":204,"line_end":204,"column_start":1,"column_end":40}},{"value":"/         });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10050,"byte_end":10065,"line_start":205,"line_end":205,"column_start":1,"column_end":16}},{"value":"/         for _ in 0..10 {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10066,"byte_end":10094,"line_start":206,"line_end":206,"column_start":1,"column_end":29}},{"value":"/             scope.spawn(|_| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10095,"byte_end":10128,"line_start":207,"line_end":207,"column_start":1,"column_end":34}},{"value":"/                 loop {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10129,"byte_end":10155,"line_start":208,"line_end":208,"column_start":1,"column_end":27}},{"value":"/                     let cfg = config.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10156,"byte_end":10204,"line_start":209,"line_end":209,"column_start":1,"column_end":49}},{"value":"/                     if !cfg.is_empty() {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10205,"byte_end":10249,"line_start":210,"line_end":210,"column_start":1,"column_end":45}},{"value":"/                         assert_eq!(**cfg, \"New configuration\");","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10250,"byte_end":10317,"line_start":211,"line_end":211,"column_start":1,"column_end":68}},{"value":"/                         return;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10318,"byte_end":10353,"line_start":212,"line_end":212,"column_start":1,"column_end":36}},{"value":"/                     }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10354,"byte_end":10379,"line_start":213,"line_end":213,"column_start":1,"column_end":26}},{"value":"/                 }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10380,"byte_end":10401,"line_start":214,"line_end":214,"column_start":1,"column_end":22}},{"value":"/             });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10402,"byte_end":10421,"line_start":215,"line_end":215,"column_start":1,"column_end":20}},{"value":"/         }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10422,"byte_end":10435,"line_start":216,"line_end":216,"column_start":1,"column_end":14}},{"value":"/     }).unwrap();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10436,"byte_end":10456,"line_start":217,"line_end":217,"column_start":1,"column_end":21}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10457,"byte_end":10462,"line_start":218,"line_end":218,"column_start":1,"column_end":6}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10463,"byte_end":10470,"line_start":219,"line_end":219,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10471,"byte_end":10474,"line_start":220,"line_end":220,"column_start":1,"column_end":4}},{"value":"/ # Features","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10475,"byte_end":10489,"line_start":221,"line_end":221,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10490,"byte_end":10493,"line_start":222,"line_end":222,"column_start":1,"column_end":4}},{"value":"/ The `weak` feature adds the ability to use arc-swap with the [Weak] pointer too,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10494,"byte_end":10578,"line_start":223,"line_end":223,"column_start":1,"column_end":85}},{"value":"/ through the [ArcSwapWeak] type. The needed std support is stabilized in rust version 1.45 (as","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10579,"byte_end":10676,"line_start":224,"line_end":224,"column_start":1,"column_end":98}},{"value":"/ of now in beta).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10677,"byte_end":10697,"line_start":225,"line_end":225,"column_start":1,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10698,"byte_end":10701,"line_start":226,"line_end":226,"column_start":1,"column_end":4}},{"value":"/ # Internal details","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10702,"byte_end":10724,"line_start":227,"line_end":227,"column_start":1,"column_end":23}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10725,"byte_end":10728,"line_start":228,"line_end":228,"column_start":1,"column_end":4}},{"value":"/ The crate uses a hybrid approach of stripped-down hazard pointers and something close to a","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10729,"byte_end":10823,"line_start":229,"line_end":229,"column_start":1,"column_end":95}},{"value":"/ sharded spin lock with asymmetric read/write usage (called the generation lock).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10824,"byte_end":10908,"line_start":230,"line_end":230,"column_start":1,"column_end":85}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10909,"byte_end":10912,"line_start":231,"line_end":231,"column_start":1,"column_end":4}},{"value":"/ Further details are described in comments inside the source code and in two blog posts:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":10913,"byte_end":11004,"line_start":232,"line_end":232,"column_start":1,"column_end":92}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11005,"byte_end":11008,"line_start":233,"line_end":233,"column_start":1,"column_end":4}},{"value":"/ * [Making `Arc` more atomic](https://vorner.github.io/2018/06/24/arc-more-atomic.html)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11009,"byte_end":11099,"line_start":234,"line_end":234,"column_start":1,"column_end":91}},{"value":"/ * [More tricks up in the ArcSwap's sleeve](https://vorner.github.io/2019/04/06/tricks-in-arc-swap.html)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11100,"byte_end":11207,"line_start":235,"line_end":235,"column_start":1,"column_end":108}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11208,"byte_end":11211,"line_start":236,"line_end":236,"column_start":1,"column_end":4}},{"value":"/ # Limitations","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11212,"byte_end":11229,"line_start":237,"line_end":237,"column_start":1,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11230,"byte_end":11233,"line_start":238,"line_end":238,"column_start":1,"column_end":4}},{"value":"/ This currently works only for `Sized` types. Unsized types have „fat pointers“, which are twice","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11234,"byte_end":11337,"line_start":239,"line_end":239,"column_start":1,"column_end":100}},{"value":"/ as large as the normal ones. The [`AtomicPtr`] doesn't support them. One could use something","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11338,"byte_end":11434,"line_start":240,"line_end":240,"column_start":1,"column_end":97}},{"value":"/ like `AtomicU128` for them. The catch is this doesn't exist and the difference would make it","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11435,"byte_end":11531,"line_start":241,"line_end":241,"column_start":1,"column_end":97}},{"value":"/ really hard to implement the debt storage/stripped down hazard pointers.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11532,"byte_end":11608,"line_start":242,"line_end":242,"column_start":1,"column_end":77}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11609,"byte_end":11612,"line_start":243,"line_end":243,"column_start":1,"column_end":4}},{"value":"/ A workaround is to use double indirection:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11613,"byte_end":11659,"line_start":244,"line_end":244,"column_start":1,"column_end":47}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11660,"byte_end":11663,"line_start":245,"line_end":245,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11664,"byte_end":11675,"line_start":246,"line_end":246,"column_start":1,"column_end":12}},{"value":"/ # use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11676,"byte_end":11704,"line_start":247,"line_end":247,"column_start":1,"column_end":29}},{"value":"/ // This doesn't work:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11705,"byte_end":11730,"line_start":248,"line_end":248,"column_start":1,"column_end":26}},{"value":"/ // let data: ArcSwap<[u8]> = ArcSwap::new(Arc::from([1, 2, 3]));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11731,"byte_end":11799,"line_start":249,"line_end":249,"column_start":1,"column_end":69}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11800,"byte_end":11803,"line_start":250,"line_end":250,"column_start":1,"column_end":4}},{"value":"/ // But this does:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11804,"byte_end":11825,"line_start":251,"line_end":251,"column_start":1,"column_end":22}},{"value":"/ let data: ArcSwap<Box<[u8]>> = ArcSwap::from_pointee(Box::new([1, 2, 3]));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11826,"byte_end":11904,"line_start":252,"line_end":252,"column_start":1,"column_end":79}},{"value":"/ # drop(data);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11905,"byte_end":11922,"line_start":253,"line_end":253,"column_start":1,"column_end":18}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11923,"byte_end":11930,"line_start":254,"line_end":254,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11931,"byte_end":11934,"line_start":255,"line_end":255,"column_start":1,"column_end":4}},{"value":"/ [Arc]: https://doc.rust-lang.org/std/sync/struct.Arc.html","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11935,"byte_end":11996,"line_start":256,"line_end":256,"column_start":1,"column_end":62}},{"value":"/ [Weak]: https://doc.rust-lang.org/std/sync/struct.Arc.html","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":11997,"byte_end":12059,"line_start":257,"line_end":257,"column_start":1,"column_end":63}},{"value":"/ [RwLock]: https://doc.rust-lang.org/std/sync/struct.RwLock.html","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12060,"byte_end":12127,"line_start":258,"line_end":258,"column_start":1,"column_end":68}},{"value":"/ [Mutex]: https://doc.rust-lang.org/std/sync/struct.Mutex.html","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12128,"byte_end":12193,"line_start":259,"line_end":259,"column_start":1,"column_end":66}},{"value":"/ [lock-free]: https://en.wikipedia.org/wiki/Non-blocking_algorithm#Lock-freedom","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12194,"byte_end":12276,"line_start":260,"line_end":260,"column_start":1,"column_end":83}},{"value":"/ [wait-free]: https://en.wikipedia.org/wiki/Non-blocking_algorithm#Wait-freedom","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12277,"byte_end":12359,"line_start":261,"line_end":261,"column_start":1,"column_end":83}},{"value":"/ [load]: struct.ArcSwapAny.html#method.load","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12360,"byte_end":12406,"line_start":262,"line_end":262,"column_start":1,"column_end":47}},{"value":"/ [into_inner]: struct.ArcSwapAny.html#method.into_inner","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12407,"byte_end":12465,"line_start":263,"line_end":263,"column_start":1,"column_end":59}},{"value":"/ [load_full]: struct.ArcSwapAny.html#method.load_full","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12466,"byte_end":12522,"line_start":264,"line_end":264,"column_start":1,"column_end":57}},{"value":"/ [load_signal_safe]: struct.ArcSwapAny.html#method.peek_signal_safe","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12523,"byte_end":12593,"line_start":265,"line_end":265,"column_start":1,"column_end":71}},{"value":"/ [benchmarks]: https://github.com/vorner/arc-swap/tree/master/benchmarks","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12594,"byte_end":12669,"line_start":266,"line_end":266,"column_start":1,"column_end":76}},{"value":"/ [ArcSwapWeak]: type.ArcSwapWeak.html","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12670,"byte_end":12710,"line_start":267,"line_end":267,"column_start":1,"column_end":41}}]},{"kind":"Mod","id":{"krate":0,"index":3},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1},"name":"access","qualname":"::access","value":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","parent":null,"children":[{"krate":0,"index":4},{"krate":0,"index":5},{"krate":0,"index":7},{"krate":0,"index":10},{"krate":0,"index":13},{"krate":0,"index":16},{"krate":0,"index":19},{"krate":0,"index":22},{"krate":0,"index":23},{"krate":0,"index":26},{"krate":0,"index":29},{"krate":0,"index":33},{"krate":0,"index":39},{"krate":0,"index":545},{"krate":0,"index":549},{"krate":0,"index":44},{"krate":0,"index":48},{"krate":0,"index":53},{"krate":0,"index":57},{"krate":0,"index":62},{"krate":0,"index":66},{"krate":0,"index":70},{"krate":0,"index":73},{"krate":0,"index":552},{"krate":0,"index":560},{"krate":0,"index":565},{"krate":0,"index":571},{"krate":0,"index":77},{"krate":0,"index":577},{"krate":0,"index":584},{"krate":0,"index":588},{"krate":0,"index":593},{"krate":0,"index":84},{"krate":0,"index":90},{"krate":0,"index":598},{"krate":0,"index":602},{"krate":0,"index":604},{"krate":0,"index":607},{"krate":0,"index":610},{"krate":0,"index":612},{"krate":0,"index":615},{"krate":0,"index":617},{"krate":0,"index":621},{"krate":0,"index":624},{"krate":0,"index":627},{"krate":0,"index":97},{"krate":0,"index":631},{"krate":0,"index":635},{"krate":0,"index":637},{"krate":0,"index":640},{"krate":0,"index":643},{"krate":0,"index":645},{"krate":0,"index":648},{"krate":0,"index":650},{"krate":0,"index":654},{"krate":0,"index":657},{"krate":0,"index":660},{"krate":0,"index":101}],"decl_id":null,"docs":" Abstracting over accessing parts of stored value.","sig":null,"attributes":[{"value":"deny(unsafe_code)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74000,"byte_end":74021,"line_start":1,"line_end":1,"column_start":1,"column_end":22}},{"value":"/ Abstracting over accessing parts of stored value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74023,"byte_end":74076,"line_start":3,"line_end":3,"column_start":1,"column_end":54}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74077,"byte_end":74080,"line_start":4,"line_end":4,"column_start":1,"column_end":4}},{"value":"/ Sometimes, there's a big globalish data structure (like a configuration for the whole program).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74081,"byte_end":74180,"line_start":5,"line_end":5,"column_start":1,"column_end":100}},{"value":"/ Then there are parts of the program that need access to up-to-date version of their *part* of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74181,"byte_end":74278,"line_start":6,"line_end":6,"column_start":1,"column_end":98}},{"value":"/ the configuration, but for reasons of code separation and reusability, it is not desirable to","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74279,"byte_end":74376,"line_start":7,"line_end":7,"column_start":1,"column_end":98}},{"value":"/ pass the whole configuration to each of the parts.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74377,"byte_end":74431,"line_start":8,"line_end":8,"column_start":1,"column_end":55}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74432,"byte_end":74435,"line_start":9,"line_end":9,"column_start":1,"column_end":4}},{"value":"/ This module provides means to grant the parts access to the relevant subsets of such global","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74436,"byte_end":74531,"line_start":10,"line_end":10,"column_start":1,"column_end":96}},{"value":"/ data structure while masking the fact it is part of the bigger whole from the component.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74532,"byte_end":74624,"line_start":11,"line_end":11,"column_start":1,"column_end":93}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74625,"byte_end":74628,"line_start":12,"line_end":12,"column_start":1,"column_end":4}},{"value":"/ Note that the [`cache`][::cache] module has its own [`Access`][::cache::Access] trait that","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74629,"byte_end":74723,"line_start":13,"line_end":13,"column_start":1,"column_end":95}},{"value":"/ serves a similar purpose, but with cached access. The signatures are different, therefore an","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74724,"byte_end":74820,"line_start":14,"line_end":14,"column_start":1,"column_end":97}},{"value":"/ incompatible trait.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74821,"byte_end":74844,"line_start":15,"line_end":15,"column_start":1,"column_end":24}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74845,"byte_end":74848,"line_start":16,"line_end":16,"column_start":1,"column_end":4}},{"value":"/ # The general idea","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74849,"byte_end":74871,"line_start":17,"line_end":17,"column_start":1,"column_end":23}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74872,"byte_end":74875,"line_start":18,"line_end":18,"column_start":1,"column_end":4}},{"value":"/ Each part of the code accepts generic [`Access<T>`][Access] for the `T` of its interest. This","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74876,"byte_end":74973,"line_start":19,"line_end":19,"column_start":1,"column_end":98}},{"value":"/ provides means to load current version of the structure behind the scenes and get only the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":74974,"byte_end":75068,"line_start":20,"line_end":20,"column_start":1,"column_end":95}},{"value":"/ relevant part, without knowing what the big structure is.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75069,"byte_end":75130,"line_start":21,"line_end":21,"column_start":1,"column_end":62}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75131,"byte_end":75134,"line_start":22,"line_end":22,"column_start":1,"column_end":4}},{"value":"/ For technical reasons, the [`Access`] trait is not object safe. If type erasure is desired, it","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75135,"byte_end":75233,"line_start":23,"line_end":23,"column_start":1,"column_end":99}},{"value":"/ is possible use the [`DynAccess`][::access::DynAccess] instead, which is object safe, but","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75234,"byte_end":75327,"line_start":24,"line_end":24,"column_start":1,"column_end":94}},{"value":"/ slightly slower.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75328,"byte_end":75348,"line_start":25,"line_end":25,"column_start":1,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75349,"byte_end":75352,"line_start":26,"line_end":26,"column_start":1,"column_end":4}},{"value":"/ For some cases, it is possible to use [`ArcSwapAny::map`]. If that is not flexible enough, the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75353,"byte_end":75451,"line_start":27,"line_end":27,"column_start":1,"column_end":99}},{"value":"/ [`Map`] type can be created directly.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75452,"byte_end":75493,"line_start":28,"line_end":28,"column_start":1,"column_end":42}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75494,"byte_end":75497,"line_start":29,"line_end":29,"column_start":1,"column_end":4}},{"value":"/ Note that the [`Access`] trait is also implemented for [`ArcSwapAny`] itself. Additionally,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75498,"byte_end":75593,"line_start":30,"line_end":30,"column_start":1,"column_end":96}},{"value":"/ there's the [`Constant`][::access::Constant] helper type, which is useful mostly for testing","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75594,"byte_end":75690,"line_start":31,"line_end":31,"column_start":1,"column_end":97}},{"value":"/ (it doesn't allow reloading).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75691,"byte_end":75724,"line_start":32,"line_end":32,"column_start":1,"column_end":34}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75725,"byte_end":75728,"line_start":33,"line_end":33,"column_start":1,"column_end":4}},{"value":"/ # Performance","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75729,"byte_end":75746,"line_start":34,"line_end":34,"column_start":1,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75747,"byte_end":75750,"line_start":35,"line_end":35,"column_start":1,"column_end":4}},{"value":"/ In general, these utilities use [`ArcSwapAny::load`] internally and then apply the provided","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75751,"byte_end":75846,"line_start":36,"line_end":36,"column_start":1,"column_end":96}},{"value":"/ transformation. This has several consequences:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75847,"byte_end":75897,"line_start":37,"line_end":37,"column_start":1,"column_end":51}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75898,"byte_end":75901,"line_start":38,"line_end":38,"column_start":1,"column_end":4}},{"value":"/ * Limitations of the [`load`][ArcSwapAny::load] apply ‒ including the recommendation to not","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":75902,"byte_end":75999,"line_start":39,"line_end":39,"column_start":1,"column_end":96}},{"value":"/   hold the returned guard object for too long, but long enough to get consistency.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76000,"byte_end":76086,"line_start":40,"line_end":40,"column_start":1,"column_end":87}},{"value":"/ * The transformation should be cheap ‒ optimally just borrowing into the structure.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76087,"byte_end":76176,"line_start":41,"line_end":41,"column_start":1,"column_end":88}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76177,"byte_end":76180,"line_start":42,"line_end":42,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76181,"byte_end":76195,"line_start":43,"line_end":43,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76196,"byte_end":76199,"line_start":44,"line_end":44,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76200,"byte_end":76211,"line_start":45,"line_end":45,"column_start":1,"column_end":12}},{"value":"/ extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76212,"byte_end":76238,"line_start":46,"line_end":46,"column_start":1,"column_end":27}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76239,"byte_end":76242,"line_start":47,"line_end":47,"column_start":1,"column_end":4}},{"value":"/ use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76243,"byte_end":76266,"line_start":48,"line_end":48,"column_start":1,"column_end":24}},{"value":"/ use std::thread;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76267,"byte_end":76287,"line_start":49,"line_end":49,"column_start":1,"column_end":21}},{"value":"/ use std::time::Duration;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76288,"byte_end":76316,"line_start":50,"line_end":50,"column_start":1,"column_end":29}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76317,"byte_end":76320,"line_start":51,"line_end":51,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76321,"byte_end":76347,"line_start":52,"line_end":52,"column_start":1,"column_end":27}},{"value":"/ use arc_swap::access::{Access, Constant, Map};","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76348,"byte_end":76398,"line_start":53,"line_end":53,"column_start":1,"column_end":51}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76399,"byte_end":76402,"line_start":54,"line_end":54,"column_start":1,"column_end":4}},{"value":"/ fn work_with_usize<A: Access<usize> + Send + 'static>(a: A) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76403,"byte_end":76468,"line_start":55,"line_end":55,"column_start":1,"column_end":66}},{"value":"/     thread::spawn(move || {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76469,"byte_end":76500,"line_start":56,"line_end":56,"column_start":1,"column_end":32}},{"value":"/         loop {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76501,"byte_end":76519,"line_start":57,"line_end":57,"column_start":1,"column_end":19}},{"value":"/             let value = a.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76520,"byte_end":76557,"line_start":58,"line_end":58,"column_start":1,"column_end":38}},{"value":"/             println!(\"{}\", *value);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76558,"byte_end":76597,"line_start":59,"line_end":59,"column_start":1,"column_end":40}},{"value":"/             // Not strictly necessary, but dropping the guard can free some resources, like","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76598,"byte_end":76693,"line_start":60,"line_end":60,"column_start":1,"column_end":96}},{"value":"/             // slots for tracking what values are still in use. We do it before the sleeping,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76694,"byte_end":76791,"line_start":61,"line_end":61,"column_start":1,"column_end":98}},{"value":"/             // not at the end of the scope.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76792,"byte_end":76839,"line_start":62,"line_end":62,"column_start":1,"column_end":48}},{"value":"/             drop(value);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76840,"byte_end":76868,"line_start":63,"line_end":63,"column_start":1,"column_end":29}},{"value":"/             thread::sleep(Duration::from_millis(50));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76869,"byte_end":76926,"line_start":64,"line_end":64,"column_start":1,"column_end":58}},{"value":"/         }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76927,"byte_end":76940,"line_start":65,"line_end":65,"column_start":1,"column_end":14}},{"value":"/     });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76941,"byte_end":76952,"line_start":66,"line_end":66,"column_start":1,"column_end":12}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76953,"byte_end":76958,"line_start":67,"line_end":67,"column_start":1,"column_end":6}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76959,"byte_end":76962,"line_start":68,"line_end":68,"column_start":1,"column_end":4}},{"value":"/ // Passing the whole thing directly","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":76963,"byte_end":77002,"line_start":69,"line_end":69,"column_start":1,"column_end":40}},{"value":"/ // (If we kept another Arc to it, we could change the value behind the scenes)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77003,"byte_end":77085,"line_start":70,"line_end":70,"column_start":1,"column_end":83}},{"value":"/ work_with_usize(Arc::new(ArcSwap::from_pointee(42)));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77086,"byte_end":77143,"line_start":71,"line_end":71,"column_start":1,"column_end":58}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77144,"byte_end":77147,"line_start":72,"line_end":72,"column_start":1,"column_end":4}},{"value":"/ // Passing a subset of a structure","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77148,"byte_end":77186,"line_start":73,"line_end":73,"column_start":1,"column_end":39}},{"value":"/ struct Cfg {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77187,"byte_end":77203,"line_start":74,"line_end":74,"column_start":1,"column_end":17}},{"value":"/     value: usize,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77204,"byte_end":77225,"line_start":75,"line_end":75,"column_start":1,"column_end":22}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77226,"byte_end":77231,"line_start":76,"line_end":76,"column_start":1,"column_end":6}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77232,"byte_end":77235,"line_start":77,"line_end":77,"column_start":1,"column_end":4}},{"value":"/ let cfg = Arc::new(ArcSwap::from_pointee(Cfg { value: 0 }));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77236,"byte_end":77300,"line_start":78,"line_end":78,"column_start":1,"column_end":65}},{"value":"/ work_with_usize(Map::new(Arc::clone(&cfg), |cfg: &Cfg| &cfg.value));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77301,"byte_end":77373,"line_start":79,"line_end":79,"column_start":1,"column_end":73}},{"value":"/ cfg.store(Arc::new(Cfg { value: 42 }));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77374,"byte_end":77417,"line_start":80,"line_end":80,"column_start":1,"column_end":44}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77418,"byte_end":77421,"line_start":81,"line_end":81,"column_start":1,"column_end":4}},{"value":"/ // Passing a constant that can't change. Useful mostly for testing purposes.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77422,"byte_end":77502,"line_start":82,"line_end":82,"column_start":1,"column_end":81}},{"value":"/ work_with_usize(Constant(42));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77503,"byte_end":77537,"line_start":83,"line_end":83,"column_start":1,"column_end":35}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77538,"byte_end":77545,"line_start":84,"line_end":84,"column_start":1,"column_end":8}}]},{"kind":"Trait","id":{"krate":0,"index":29},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77975,"byte_end":77981,"line_start":99,"line_end":99,"column_start":11,"column_end":17},"name":"Access","qualname":"::access::Access","value":"Access<T>","parent":null,"children":[{"krate":0,"index":31},{"krate":0,"index":32}],"decl_id":null,"docs":" Abstracts over ways code can get access to a value of type `T`.","sig":null,"attributes":[{"value":"/ Abstracts over ways code can get access to a value of type `T`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77731,"byte_end":77798,"line_start":95,"line_end":95,"column_start":1,"column_end":68}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77799,"byte_end":77802,"line_start":96,"line_end":96,"column_start":1,"column_end":4}},{"value":"/ This is the trait that parts of code will use when accessing a subpart of the big data","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77803,"byte_end":77893,"line_start":97,"line_end":97,"column_start":1,"column_end":91}},{"value":"/ structure. See the [module documentation](index.html) for details.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77894,"byte_end":77964,"line_start":98,"line_end":98,"column_start":1,"column_end":71}}]},{"kind":"Type","id":{"krate":0,"index":31},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78276,"byte_end":78281,"line_start":105,"line_end":105,"column_start":10,"column_end":15},"name":"Guard","qualname":"::access::Access::Guard","value":"type Guard: Deref<Target = T>;","parent":{"krate":0,"index":29},"children":[],"decl_id":null,"docs":" A guard object containing the value and keeping it alive.","sig":null,"attributes":[{"value":"/ A guard object containing the value and keeping it alive.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":77991,"byte_end":78052,"line_start":100,"line_end":100,"column_start":5,"column_end":66}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78057,"byte_end":78060,"line_start":101,"line_end":101,"column_start":5,"column_end":8}},{"value":"/ For technical reasons, the library doesn't allow direct access into the stored value. A","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78065,"byte_end":78156,"line_start":102,"line_end":102,"column_start":5,"column_end":96}},{"value":"/ temporary guard object must be loaded, that keeps the actual value alive for the time of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78161,"byte_end":78253,"line_start":103,"line_end":103,"column_start":5,"column_end":97}},{"value":"/ use.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78258,"byte_end":78266,"line_start":104,"line_end":104,"column_start":5,"column_end":13}}]},{"kind":"Method","id":{"krate":0,"index":32},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78471,"byte_end":78475,"line_start":111,"line_end":111,"column_start":8,"column_end":12},"name":"load","qualname":"::access::Access::load","value":"pub fn load(&Self) -> Self::Guard","parent":{"krate":0,"index":29},"children":[],"decl_id":null,"docs":" The loading method.","sig":null,"attributes":[{"value":"/ The loading method.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78307,"byte_end":78330,"line_start":107,"line_end":107,"column_start":5,"column_end":28}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78335,"byte_end":78338,"line_start":108,"line_end":108,"column_start":5,"column_end":8}},{"value":"/ This returns the guard that holds the actual value. Should be called anew each time a fresh","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78343,"byte_end":78438,"line_start":109,"line_end":109,"column_start":5,"column_end":100}},{"value":"/ value is needed.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78443,"byte_end":78463,"line_start":110,"line_end":110,"column_start":5,"column_end":25}}]},{"kind":"Struct","id":{"krate":0,"index":545},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78947,"byte_end":78958,"line_start":133,"line_end":133,"column_start":12,"column_end":23},"name":"DirectDeref","qualname":"::access::DirectDeref","value":"","parent":null,"children":[],"decl_id":null,"docs":" Plumbing type.","sig":null,"attributes":[{"value":"/ Plumbing type.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78831,"byte_end":78849,"line_start":129,"line_end":129,"column_start":1,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78850,"byte_end":78853,"line_start":130,"line_end":130,"column_start":1,"column_end":4}},{"value":"/ Accessible, but not expected to be used directly in general.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78854,"byte_end":78918,"line_start":131,"line_end":131,"column_start":1,"column_end":65}}]},{"kind":"Struct","id":{"krate":0,"index":62},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79726,"byte_end":79734,"line_start":166,"line_end":166,"column_start":12,"column_end":20},"name":"DynGuard","qualname":"::access::DynGuard","value":"","parent":null,"children":[],"decl_id":null,"docs":" Plumbing type.","sig":null,"attributes":[{"value":"/ Plumbing type.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79602,"byte_end":79620,"line_start":163,"line_end":163,"column_start":1,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79621,"byte_end":79624,"line_start":164,"line_end":164,"column_start":1,"column_end":4}},{"value":"/ This is the guard of [`DynAccess`] trait. It is effectively `Box<Deref<Target = T>>`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79625,"byte_end":79714,"line_start":165,"line_end":165,"column_start":1,"column_end":90}}]},{"kind":"Trait","id":{"krate":0,"index":70},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80682,"byte_end":80691,"line_start":201,"line_end":201,"column_start":11,"column_end":20},"name":"DynAccess","qualname":"::access::DynAccess","value":"DynAccess<T>","parent":null,"children":[{"krate":0,"index":72}],"decl_id":null,"docs":" An object-safe version of the [`Access`] trait.","sig":null,"attributes":[{"value":"/ An object-safe version of the [`Access`] trait.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79886,"byte_end":79937,"line_start":175,"line_end":175,"column_start":1,"column_end":52}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79938,"byte_end":79941,"line_start":176,"line_end":176,"column_start":1,"column_end":4}},{"value":"/ This can be used instead of the [`Access`] trait in case a type erasure is desired. This has","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79942,"byte_end":80038,"line_start":177,"line_end":177,"column_start":1,"column_end":97}},{"value":"/ the effect of performance hit (due to boxing of the result and due to dynamic dispatch), but","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80039,"byte_end":80135,"line_start":178,"line_end":178,"column_start":1,"column_end":97}},{"value":"/ makes certain code simpler and possibly makes the executable smaller.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80136,"byte_end":80209,"line_start":179,"line_end":179,"column_start":1,"column_end":74}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80210,"byte_end":80213,"line_start":180,"line_end":180,"column_start":1,"column_end":4}},{"value":"/ This is automatically implemented for everything that implements [`Access`].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80214,"byte_end":80294,"line_start":181,"line_end":181,"column_start":1,"column_end":81}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80295,"byte_end":80298,"line_start":182,"line_end":182,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80299,"byte_end":80313,"line_start":183,"line_end":183,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80314,"byte_end":80317,"line_start":184,"line_end":184,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80318,"byte_end":80329,"line_start":185,"line_end":185,"column_start":1,"column_end":12}},{"value":"/ extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80330,"byte_end":80356,"line_start":186,"line_end":186,"column_start":1,"column_end":27}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80357,"byte_end":80360,"line_start":187,"line_end":187,"column_start":1,"column_end":4}},{"value":"/ use std::thread;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80361,"byte_end":80381,"line_start":188,"line_end":188,"column_start":1,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80382,"byte_end":80385,"line_start":189,"line_end":189,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::access::{Constant, DynAccess};","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80386,"byte_end":80434,"line_start":190,"line_end":190,"column_start":1,"column_end":49}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80435,"byte_end":80438,"line_start":191,"line_end":191,"column_start":1,"column_end":4}},{"value":"/ fn do_something(value: Box<dyn DynAccess<usize> + Send>) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80439,"byte_end":80501,"line_start":192,"line_end":192,"column_start":1,"column_end":63}},{"value":"/     thread::spawn(move || {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80502,"byte_end":80533,"line_start":193,"line_end":193,"column_start":1,"column_end":32}},{"value":"/         let v = value.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80534,"byte_end":80567,"line_start":194,"line_end":194,"column_start":1,"column_end":34}},{"value":"/         println!(\"{}\", *v);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80568,"byte_end":80599,"line_start":195,"line_end":195,"column_start":1,"column_end":32}},{"value":"/     });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80600,"byte_end":80611,"line_start":196,"line_end":196,"column_start":1,"column_end":12}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80612,"byte_end":80617,"line_start":197,"line_end":197,"column_start":1,"column_end":6}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80618,"byte_end":80621,"line_start":198,"line_end":198,"column_start":1,"column_end":4}},{"value":"/ do_something(Box::new(Constant(42)));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80622,"byte_end":80663,"line_start":199,"line_end":199,"column_start":1,"column_end":42}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80664,"byte_end":80671,"line_start":200,"line_end":200,"column_start":1,"column_end":8}}]},{"kind":"Method","id":{"krate":0,"index":72},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80748,"byte_end":80752,"line_start":203,"line_end":203,"column_start":8,"column_end":12},"name":"load","qualname":"::access::DynAccess::load","value":"pub fn load(&Self) -> DynGuard<T>","parent":{"krate":0,"index":70},"children":[],"decl_id":null,"docs":" The equivalent of [`Access::load`].\n","sig":null,"attributes":[{"value":"/ The equivalent of [`Access::load`].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80701,"byte_end":80740,"line_start":202,"line_end":202,"column_start":5,"column_end":44}}]},{"kind":"Struct","id":{"krate":0,"index":552},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81142,"byte_end":81150,"line_start":221,"line_end":221,"column_start":12,"column_end":20},"name":"MapGuard","qualname":"::access::MapGuard","value":"MapGuard {  }","parent":null,"children":[{"krate":0,"index":557},{"krate":0,"index":558},{"krate":0,"index":559}],"decl_id":null,"docs":" A plumbing type.","sig":null,"attributes":[{"value":"/ A plumbing type.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80950,"byte_end":80970,"line_start":216,"line_end":216,"column_start":1,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80971,"byte_end":80974,"line_start":217,"line_end":217,"column_start":1,"column_end":4}},{"value":"/ This is the guard type for [`Map`]. It is accessible and nameable, but is not expected to be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80975,"byte_end":81071,"line_start":218,"line_end":218,"column_start":1,"column_end":97}},{"value":"/ generally used directly.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81072,"byte_end":81100,"line_start":219,"line_end":219,"column_start":1,"column_end":29}}]},{"kind":"Struct","id":{"krate":0,"index":577},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81655,"byte_end":81658,"line_start":243,"line_end":243,"column_start":12,"column_end":15},"name":"Map","qualname":"::access::Map","value":"Map {  }","parent":null,"children":[{"krate":0,"index":581},{"krate":0,"index":582},{"krate":0,"index":583}],"decl_id":null,"docs":" An adaptor to provide access to a part of larger structure.","sig":null,"attributes":[{"value":"/ An adaptor to provide access to a part of larger structure.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81436,"byte_end":81499,"line_start":238,"line_end":238,"column_start":1,"column_end":64}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81500,"byte_end":81503,"line_start":239,"line_end":239,"column_start":1,"column_end":4}},{"value":"/ This is the *active* part of this module. Use the [module documentation](index.html) for the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81504,"byte_end":81600,"line_start":240,"line_end":240,"column_start":1,"column_end":97}},{"value":"/ details.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81601,"byte_end":81613,"line_start":241,"line_end":241,"column_start":1,"column_end":13}}]},{"kind":"Method","id":{"krate":0,"index":88},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82395,"byte_end":82398,"line_start":261,"line_end":261,"column_start":12,"column_end":15},"name":"new","qualname":"<Map<A, T, F>>::new","value":"pub fn new<R>(A, F) -> Self where F: Fn(&T) -> &R + Clone","parent":null,"children":[],"decl_id":null,"docs":" Creates a new instance.","sig":null,"attributes":[{"value":"/ Creates a new instance.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81772,"byte_end":81799,"line_start":250,"line_end":250,"column_start":5,"column_end":32}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81804,"byte_end":81807,"line_start":251,"line_end":251,"column_start":5,"column_end":8}},{"value":"/ # Parameters","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81812,"byte_end":81828,"line_start":252,"line_end":252,"column_start":5,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81833,"byte_end":81836,"line_start":253,"line_end":253,"column_start":5,"column_end":8}},{"value":"/ * `access`: Access to the bigger structure. This is usually something like `Arc<ArcSwap>`","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81841,"byte_end":81934,"line_start":254,"line_end":254,"column_start":5,"column_end":98}},{"value":"/   or `&ArcSwap`. It is technically possible to use any other [`Access`] here, though, for","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81939,"byte_end":82032,"line_start":255,"line_end":255,"column_start":5,"column_end":98}},{"value":"/   example to sub-delegate into even smaller structure from a [`Map`] (or generic","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82037,"byte_end":82121,"line_start":256,"line_end":256,"column_start":5,"column_end":89}},{"value":"/   [`Access`]).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82126,"byte_end":82144,"line_start":257,"line_end":257,"column_start":5,"column_end":23}},{"value":"/ * `projection`: A function (or closure) responsible to providing a reference into the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82149,"byte_end":82238,"line_start":258,"line_end":258,"column_start":5,"column_end":94}},{"value":"/   bigger bigger structure, selecting just subset of it. In general, it is expected to be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82243,"byte_end":82335,"line_start":259,"line_end":259,"column_start":5,"column_end":97}},{"value":"/   *cheap* (like only taking reference).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82340,"byte_end":82383,"line_start":260,"line_end":260,"column_start":5,"column_end":48}}]},{"kind":"Struct","id":{"krate":0,"index":598},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83169,"byte_end":83182,"line_start":294,"line_end":294,"column_start":12,"column_end":25},"name":"ConstantDeref","qualname":"::access::ConstantDeref","value":"","parent":null,"children":[],"decl_id":null,"docs":" A plumbing type.","sig":null,"attributes":[{"value":"/ A plumbing type.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82947,"byte_end":82967,"line_start":289,"line_end":289,"column_start":1,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82968,"byte_end":82971,"line_start":290,"line_end":290,"column_start":1,"column_end":4}},{"value":"/ This is the guard type for [`Constant`]. It is accessible, but is not expected to be generally","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82972,"byte_end":83070,"line_start":291,"line_end":291,"column_start":1,"column_end":99}},{"value":"/ used directly.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83071,"byte_end":83089,"line_start":292,"line_end":292,"column_start":1,"column_end":19}}]},{"kind":"Struct","id":{"krate":0,"index":631},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83768,"byte_end":83776,"line_start":312,"line_end":312,"column_start":12,"column_end":20},"name":"Constant","qualname":"::access::Constant","value":"","parent":null,"children":[],"decl_id":null,"docs":" Access to an constant.","sig":null,"attributes":[{"value":"/ Access to an constant.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83302,"byte_end":83328,"line_start":303,"line_end":303,"column_start":1,"column_end":27}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83329,"byte_end":83332,"line_start":304,"line_end":304,"column_start":1,"column_end":4}},{"value":"/ This wraps a constant value to provide [`Access`] to it. It is constant in the sense that,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83333,"byte_end":83427,"line_start":305,"line_end":305,"column_start":1,"column_end":95}},{"value":"/ unlike [`ArcSwapAny`] and [`Map`], the loaded value will always stay the same (there's no","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83428,"byte_end":83521,"line_start":306,"line_end":306,"column_start":1,"column_end":94}},{"value":"/ remote `store`).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83522,"byte_end":83542,"line_start":307,"line_end":307,"column_start":1,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83543,"byte_end":83546,"line_start":308,"line_end":308,"column_start":1,"column_end":4}},{"value":"/ The purpose is mostly testing and plugging a parameter that works generically from code that","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83547,"byte_end":83643,"line_start":309,"line_end":309,"column_start":1,"column_end":97}},{"value":"/ doesn't need the updating functionality.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83644,"byte_end":83688,"line_start":310,"line_end":310,"column_start":1,"column_end":45}}]},{"kind":"Field","id":{"krate":0,"index":634},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83780,"byte_end":83785,"line_start":312,"line_end":312,"column_start":24,"column_end":29},"name":"0","qualname":"::access::Constant::0","value":"T","parent":{"krate":0,"index":631},"children":[],"decl_id":null,"docs":"","sig":null,"attributes":[]},{"kind":"Trait","id":{"krate":0,"index":113},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87607,"byte_end":87612,"line_start":25,"line_end":25,"column_start":11,"column_end":16},"name":"AsRaw","qualname":"::as_raw::AsRaw","value":"AsRaw<T>","parent":null,"children":[{"krate":0,"index":115}],"decl_id":null,"docs":" A trait describing things that can be turned into a raw pointer.","sig":null,"attributes":[{"value":"/ A trait describing things that can be turned into a raw pointer.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":86850,"byte_end":86918,"line_start":3,"line_end":3,"column_start":1,"column_end":69}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":86919,"byte_end":86922,"line_start":4,"line_end":4,"column_start":1,"column_end":4}},{"value":"/ This is just an abstraction of things that can be passed to the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":86923,"byte_end":86990,"line_start":5,"line_end":5,"column_start":1,"column_end":68}},{"value":"/ [`compare_and_swap`](struct.ArcSwapAny.html#method.compare_and_swap).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":86991,"byte_end":87064,"line_start":6,"line_end":6,"column_start":1,"column_end":74}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87065,"byte_end":87068,"line_start":7,"line_end":7,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87069,"byte_end":87083,"line_start":8,"line_end":8,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87084,"byte_end":87087,"line_start":9,"line_end":9,"column_start":1,"column_end":4}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87088,"byte_end":87095,"line_start":10,"line_end":10,"column_start":1,"column_end":8}},{"value":"/ use std::ptr;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87096,"byte_end":87113,"line_start":11,"line_end":11,"column_start":1,"column_end":18}},{"value":"/ use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87114,"byte_end":87137,"line_start":12,"line_end":12,"column_start":1,"column_end":24}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87138,"byte_end":87141,"line_start":13,"line_end":13,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::ArcSwapOption;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87142,"byte_end":87174,"line_start":14,"line_end":14,"column_start":1,"column_end":33}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87175,"byte_end":87178,"line_start":15,"line_end":15,"column_start":1,"column_end":4}},{"value":"/ let a = Arc::new(42);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87179,"byte_end":87204,"line_start":16,"line_end":16,"column_start":1,"column_end":26}},{"value":"/ let shared = ArcSwapOption::from(Some(Arc::clone(&a)));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87205,"byte_end":87264,"line_start":17,"line_end":17,"column_start":1,"column_end":60}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87265,"byte_end":87268,"line_start":18,"line_end":18,"column_start":1,"column_end":4}},{"value":"/ shared.compare_and_swap(&a, Some(Arc::clone(&a)));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87269,"byte_end":87323,"line_start":19,"line_end":19,"column_start":1,"column_end":55}},{"value":"/ shared.compare_and_swap(&None::<Arc<_>>, Some(Arc::clone(&a)));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87324,"byte_end":87391,"line_start":20,"line_end":20,"column_start":1,"column_end":68}},{"value":"/ shared.compare_and_swap(shared.load(), Some(Arc::clone(&a)));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87392,"byte_end":87457,"line_start":21,"line_end":21,"column_start":1,"column_end":66}},{"value":"/ shared.compare_and_swap(&shared.load(), Some(Arc::clone(&a)));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87458,"byte_end":87524,"line_start":22,"line_end":22,"column_start":1,"column_end":67}},{"value":"/ shared.compare_and_swap(ptr::null(), Some(Arc::clone(&a)));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87525,"byte_end":87588,"line_start":23,"line_end":23,"column_start":1,"column_end":64}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87589,"byte_end":87596,"line_start":24,"line_end":24,"column_start":1,"column_end":8}}]},{"kind":"Method","id":{"krate":0,"index":115},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87672,"byte_end":87678,"line_start":27,"line_end":27,"column_start":8,"column_end":14},"name":"as_raw","qualname":"::as_raw::AsRaw::as_raw","value":"pub fn as_raw(&Self) -> *mut T","parent":{"krate":0,"index":113},"children":[],"decl_id":null,"docs":" Converts the value into a raw pointer.\n","sig":null,"attributes":[{"value":"/ Converts the value into a raw pointer.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87622,"byte_end":87664,"line_start":26,"line_end":26,"column_start":5,"column_end":47}}]},{"kind":"Mod","id":{"krate":0,"index":134},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1},"name":"cache","qualname":"::cache","value":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","parent":null,"children":[{"krate":0,"index":135},{"krate":0,"index":138},{"krate":0,"index":141},{"krate":0,"index":144},{"krate":0,"index":147},{"krate":0,"index":150},{"krate":0,"index":664},{"krate":0,"index":669},{"krate":0,"index":673},{"krate":0,"index":153},{"krate":0,"index":165},{"krate":0,"index":170},{"krate":0,"index":677},{"krate":0,"index":683},{"krate":0,"index":688},{"krate":0,"index":175}],"decl_id":null,"docs":" Caching handle into the [ArcSwapAny].","sig":null,"attributes":[{"value":"deny(unsafe_code)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88273,"byte_end":88294,"line_start":1,"line_end":1,"column_start":1,"column_end":22}},{"value":"/ Caching handle into the [ArcSwapAny].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88296,"byte_end":88337,"line_start":3,"line_end":3,"column_start":1,"column_end":42}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88338,"byte_end":88341,"line_start":4,"line_end":4,"column_start":1,"column_end":4}},{"value":"/ The [Cache] keeps a copy of the internal [Arc] for faster access.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88342,"byte_end":88411,"line_start":5,"line_end":5,"column_start":1,"column_end":70}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88412,"byte_end":88415,"line_start":6,"line_end":6,"column_start":1,"column_end":4}},{"value":"/ [Arc]: std::sync::Arc","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88416,"byte_end":88441,"line_start":7,"line_end":7,"column_start":1,"column_end":26}}]},{"kind":"Trait","id":{"krate":0,"index":150},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88911,"byte_end":88917,"line_start":23,"line_end":23,"column_start":11,"column_end":17},"name":"Access","qualname":"::cache::Access","value":"Access<T>","parent":null,"children":[{"krate":0,"index":152}],"decl_id":null,"docs":" Generalization of caches providing access to `T`.","sig":null,"attributes":[{"value":"/ Generalization of caches providing access to `T`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88584,"byte_end":88637,"line_start":16,"line_end":16,"column_start":1,"column_end":54}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88638,"byte_end":88641,"line_start":17,"line_end":17,"column_start":1,"column_end":4}},{"value":"/ This abstracts over all kinds of caches that can provide a cheap access to values of type `T`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88642,"byte_end":88740,"line_start":18,"line_end":18,"column_start":1,"column_end":99}},{"value":"/ This is useful in cases where some code doesn't care if the `T` is the whole structure or just","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88741,"byte_end":88839,"line_start":19,"line_end":19,"column_start":1,"column_end":99}},{"value":"/ a part of it.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88840,"byte_end":88857,"line_start":20,"line_end":20,"column_start":1,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88858,"byte_end":88861,"line_start":21,"line_end":21,"column_start":1,"column_end":4}},{"value":"/ See the example at [`Cache::map`].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88862,"byte_end":88900,"line_start":22,"line_end":22,"column_start":1,"column_end":39}}]},{"kind":"Method","id":{"krate":0,"index":152},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89069,"byte_end":89073,"line_start":27,"line_end":27,"column_start":8,"column_end":12},"name":"load","qualname":"::cache::Access::load","value":"pub fn load(&mut Self) -> &T","parent":{"krate":0,"index":150},"children":[],"decl_id":null,"docs":" Loads the value from cache.","sig":null,"attributes":[{"value":"/ Loads the value from cache.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88927,"byte_end":88958,"line_start":24,"line_end":24,"column_start":5,"column_end":36}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88963,"byte_end":88966,"line_start":25,"line_end":25,"column_start":5,"column_end":8}},{"value":"/ This revalidates the value in the cache, then provides the access to the cached value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":88971,"byte_end":89061,"line_start":26,"line_end":26,"column_start":5,"column_end":95}}]},{"kind":"Struct","id":{"krate":0,"index":664},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90831,"byte_end":90836,"line_start":74,"line_end":74,"column_start":12,"column_end":17},"name":"Cache","qualname":"::cache::Cache","value":"Cache {  }","parent":null,"children":[{"krate":0,"index":667},{"krate":0,"index":668}],"decl_id":null,"docs":" Caching handle for [`ArcSwapAny`][ArcSwapAny].","sig":null,"attributes":[{"value":"/ Caching handle for [`ArcSwapAny`][ArcSwapAny].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89095,"byte_end":89145,"line_start":30,"line_end":30,"column_start":1,"column_end":51}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89146,"byte_end":89149,"line_start":31,"line_end":31,"column_start":1,"column_end":4}},{"value":"/ Instead of loading the [`Arc`][Arc] on every request from the shared storage, this keeps","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89150,"byte_end":89242,"line_start":32,"line_end":32,"column_start":1,"column_end":93}},{"value":"/ another copy inside itself. Upon request it only cheaply revalidates it is up to","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89243,"byte_end":89327,"line_start":33,"line_end":33,"column_start":1,"column_end":85}},{"value":"/ date. If it is, access is significantly faster. If it is stale, the [load_full] is done and the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89328,"byte_end":89427,"line_start":34,"line_end":34,"column_start":1,"column_end":100}},{"value":"/ cache value is replaced. Under a read-heavy loads, the measured speedup are 10-25 times,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89428,"byte_end":89520,"line_start":35,"line_end":35,"column_start":1,"column_end":93}},{"value":"/ depending on the architecture.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89521,"byte_end":89555,"line_start":36,"line_end":36,"column_start":1,"column_end":35}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89556,"byte_end":89559,"line_start":37,"line_end":37,"column_start":1,"column_end":4}},{"value":"/ There are, however, downsides:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89560,"byte_end":89594,"line_start":38,"line_end":38,"column_start":1,"column_end":35}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89595,"byte_end":89598,"line_start":39,"line_end":39,"column_start":1,"column_end":4}},{"value":"/ * The handle needs to be kept around by the caller (usually, one per thread). This is fine if","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89599,"byte_end":89696,"line_start":40,"line_end":40,"column_start":1,"column_end":98}},{"value":"/   there's one global `ArcSwapAny`, but starts being tricky with eg. data structures build from","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89697,"byte_end":89795,"line_start":41,"line_end":41,"column_start":1,"column_end":99}},{"value":"/   them.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89796,"byte_end":89807,"line_start":42,"line_end":42,"column_start":1,"column_end":12}},{"value":"/ * As it keeps a copy of the [Arc] inside the cache, the old value may be kept alive for longer","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89808,"byte_end":89906,"line_start":43,"line_end":43,"column_start":1,"column_end":99}},{"value":"/   period of time ‒ it is replaced by the new value on [load][Cache::load]. You may not want to","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":89907,"byte_end":90007,"line_start":44,"line_end":44,"column_start":1,"column_end":99}},{"value":"/   use this if dropping the old value in timely manner is important (possibly because of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90008,"byte_end":90099,"line_start":45,"line_end":45,"column_start":1,"column_end":92}},{"value":"/   releasing large amount of RAM or because of closing fuse Fuse handles).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90100,"byte_end":90172,"line_start":46,"line_end":46,"column_start":1,"column_end":73}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90173,"byte_end":90176,"line_start":47,"line_end":47,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90177,"byte_end":90191,"line_start":48,"line_end":48,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90192,"byte_end":90195,"line_start":49,"line_end":49,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90196,"byte_end":90207,"line_start":50,"line_end":50,"column_start":1,"column_end":12}},{"value":"/ # fn do_something<V>(_v: V) { }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90208,"byte_end":90243,"line_start":51,"line_end":51,"column_start":1,"column_end":36}},{"value":"/ use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90244,"byte_end":90267,"line_start":52,"line_end":52,"column_start":1,"column_end":24}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90268,"byte_end":90271,"line_start":53,"line_end":53,"column_start":1,"column_end":4}},{"value":"/ use arc_swap::{ArcSwap, Cache};","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90272,"byte_end":90307,"line_start":54,"line_end":54,"column_start":1,"column_end":36}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90308,"byte_end":90311,"line_start":55,"line_end":55,"column_start":1,"column_end":4}},{"value":"/ let shared = Arc::new(ArcSwap::from_pointee(42));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90312,"byte_end":90365,"line_start":56,"line_end":56,"column_start":1,"column_end":54}},{"value":"/ // Start 10 worker threads...","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90366,"byte_end":90399,"line_start":57,"line_end":57,"column_start":1,"column_end":34}},{"value":"/ for _ in 0..10 {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90400,"byte_end":90420,"line_start":58,"line_end":58,"column_start":1,"column_end":21}},{"value":"/     let mut cache = Cache::new(Arc::clone(&shared));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90421,"byte_end":90477,"line_start":59,"line_end":59,"column_start":1,"column_end":57}},{"value":"/     std::thread::spawn(move || {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90478,"byte_end":90514,"line_start":60,"line_end":60,"column_start":1,"column_end":37}},{"value":"/         // Keep loading it like mad..","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90515,"byte_end":90556,"line_start":61,"line_end":61,"column_start":1,"column_end":42}},{"value":"/         loop {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90557,"byte_end":90575,"line_start":62,"line_end":62,"column_start":1,"column_end":19}},{"value":"/             let value = cache.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90576,"byte_end":90617,"line_start":63,"line_end":63,"column_start":1,"column_end":42}},{"value":"/             do_something(value);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90618,"byte_end":90654,"line_start":64,"line_end":64,"column_start":1,"column_end":37}},{"value":"/         }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90655,"byte_end":90668,"line_start":65,"line_end":65,"column_start":1,"column_end":14}},{"value":"/     });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90669,"byte_end":90680,"line_start":66,"line_end":66,"column_start":1,"column_end":12}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90681,"byte_end":90686,"line_start":67,"line_end":67,"column_start":1,"column_end":6}},{"value":"/ shared.store(Arc::new(12));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90687,"byte_end":90718,"line_start":68,"line_end":68,"column_start":1,"column_end":32}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90719,"byte_end":90726,"line_start":69,"line_end":69,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90727,"byte_end":90730,"line_start":70,"line_end":70,"column_start":1,"column_end":4}},{"value":"/ [Arc]: std::sync::Arc","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90731,"byte_end":90756,"line_start":71,"line_end":71,"column_start":1,"column_end":26}},{"value":"/ [load_full]: ArcSwapAny::load_full","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90757,"byte_end":90795,"line_start":72,"line_end":72,"column_start":1,"column_end":39}}]},{"kind":"Method","id":{"krate":0,"index":157},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91494,"byte_end":91497,"line_start":94,"line_end":94,"column_start":12,"column_end":15},"name":"new","qualname":"<Cache<A, T>>::new","value":"pub fn new(A) -> Self","parent":null,"children":[],"decl_id":null,"docs":" Creates a new caching handle.","sig":null,"attributes":[{"value":"/ Creates a new caching handle.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90994,"byte_end":91027,"line_start":85,"line_end":85,"column_start":5,"column_end":38}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91032,"byte_end":91035,"line_start":86,"line_end":86,"column_start":5,"column_end":8}},{"value":"/ The parameter is something dereferencing into an [`ArcSwapAny`] (eg. either to [`ArcSwap`]","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91040,"byte_end":91134,"line_start":87,"line_end":87,"column_start":5,"column_end":99}},{"value":"/ or [`ArcSwapOption`]). That can be [`ArcSwapAny`] itself, but that's not very useful. But","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91139,"byte_end":91232,"line_start":88,"line_end":88,"column_start":5,"column_end":98}},{"value":"/ it also can be a reference to it or `Arc`, which makes it possible to share the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91237,"byte_end":91320,"line_start":89,"line_end":89,"column_start":5,"column_end":88}},{"value":"/ [`ArcSwapAny`] with multiple caches or access it in non-cached way too.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91325,"byte_end":91400,"line_start":90,"line_end":90,"column_start":5,"column_end":80}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91405,"byte_end":91408,"line_start":91,"line_end":91,"column_start":5,"column_end":8}},{"value":"/ [`ArcSwapOption`]: ::ArcSwapOption","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91413,"byte_end":91451,"line_start":92,"line_end":92,"column_start":5,"column_end":43}},{"value":"/ [`ArcSwap`]: ::ArcSwap","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91456,"byte_end":91482,"line_start":93,"line_end":93,"column_start":5,"column_end":31}}]},{"kind":"Method","id":{"krate":0,"index":158},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91685,"byte_end":91693,"line_start":100,"line_end":100,"column_start":12,"column_end":20},"name":"arc_swap","qualname":"<Cache<A, T>>::arc_swap","value":"pub fn arc_swap(&Self) -> &A::Target","parent":null,"children":[],"decl_id":null,"docs":" Gives access to the (possibly shared) cached [`ArcSwapAny`].\n","sig":null,"attributes":[{"value":"/ Gives access to the (possibly shared) cached [`ArcSwapAny`].","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91609,"byte_end":91673,"line_start":99,"line_end":99,"column_start":5,"column_end":69}}]},{"kind":"Method","id":{"krate":0,"index":159},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":92155,"byte_end":92159,"line_start":112,"line_end":112,"column_start":12,"column_end":16},"name":"load","qualname":"<Cache<A, T>>::load","value":"pub fn load(&mut Self) -> &T","parent":null,"children":[],"decl_id":null,"docs":" Loads the currently held value.","sig":null,"attributes":[{"value":"/ Loads the currently held value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91751,"byte_end":91786,"line_start":104,"line_end":104,"column_start":5,"column_end":40}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91791,"byte_end":91794,"line_start":105,"line_end":105,"column_start":5,"column_end":8}},{"value":"/ This first checks if the cached value is up to date. This check is very cheap.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91799,"byte_end":91881,"line_start":106,"line_end":106,"column_start":5,"column_end":87}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91886,"byte_end":91889,"line_start":107,"line_end":107,"column_start":5,"column_end":8}},{"value":"/ If it is up to date, the cached value is simply returned without additional costs. If it is","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91894,"byte_end":91989,"line_start":108,"line_end":108,"column_start":5,"column_end":100}},{"value":"/ outdated, a load is done on the underlying shared storage. The newly loaded value is then","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":91994,"byte_end":92087,"line_start":109,"line_end":109,"column_start":5,"column_end":98}},{"value":"/ stored in the cache and returned.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":92092,"byte_end":92129,"line_start":110,"line_end":110,"column_start":5,"column_end":42}},{"value":"inline","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":92134,"byte_end":92143,"line_start":111,"line_end":111,"column_start":5,"column_end":14}}]},{"kind":"Method","id":{"krate":0,"index":162},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94805,"byte_end":94808,"line_start":184,"line_end":184,"column_start":12,"column_end":15},"name":"map","qualname":"<Cache<A, T>>::map","value":"pub fn map<F, U>(Self, F) -> MapCache<A, T, F> where F: FnMut(&T) -> &U","parent":null,"children":[],"decl_id":null,"docs":" Turns this cache into a cache with a projection inside the cached value.","sig":null,"attributes":[{"value":"/ Turns this cache into a cache with a projection inside the cached value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":92877,"byte_end":92953,"line_start":134,"line_end":134,"column_start":5,"column_end":81}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":92958,"byte_end":92961,"line_start":135,"line_end":135,"column_start":5,"column_end":8}},{"value":"/ You'd use this in case when some part of code needs access to fresh values of `U`, however","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":92966,"byte_end":93060,"line_start":136,"line_end":136,"column_start":5,"column_end":99}},{"value":"/ a bigger structure containing `U` is provided by this cache. The possibility of giving the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93065,"byte_end":93159,"line_start":137,"line_end":137,"column_start":5,"column_end":99}},{"value":"/ whole structure to the part of the code falls short in terms of reusability (the part of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93164,"byte_end":93256,"line_start":138,"line_end":138,"column_start":5,"column_end":97}},{"value":"/ the code could be used within multiple contexts, each with a bigger different structure","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93261,"byte_end":93352,"line_start":139,"line_end":139,"column_start":5,"column_end":96}},{"value":"/ containing `U`) and code separation (the code shouldn't needs to know about the big","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93357,"byte_end":93444,"line_start":140,"line_end":140,"column_start":5,"column_end":92}},{"value":"/ structure).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93449,"byte_end":93464,"line_start":141,"line_end":141,"column_start":5,"column_end":20}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93469,"byte_end":93472,"line_start":142,"line_end":142,"column_start":5,"column_end":8}},{"value":"/ # Warning","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93477,"byte_end":93490,"line_start":143,"line_end":143,"column_start":5,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93495,"byte_end":93498,"line_start":144,"line_end":144,"column_start":5,"column_end":8}},{"value":"/ As the provided `f` is called inside every [`load`][Access::load], this one should be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93503,"byte_end":93592,"line_start":145,"line_end":145,"column_start":5,"column_end":94}},{"value":"/ cheap. Most often it is expected to be just a closure taking reference of some inner field.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93597,"byte_end":93692,"line_start":146,"line_end":146,"column_start":5,"column_end":100}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93697,"byte_end":93700,"line_start":147,"line_end":147,"column_start":5,"column_end":8}},{"value":"/ For the same reasons, it should not have side effects and should never panic (these will","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93705,"byte_end":93797,"line_start":148,"line_end":148,"column_start":5,"column_end":97}},{"value":"/ not break Rust's safety rules, but might produce behaviour you don't expect).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93802,"byte_end":93883,"line_start":149,"line_end":149,"column_start":5,"column_end":86}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93888,"byte_end":93891,"line_start":150,"line_end":150,"column_start":5,"column_end":8}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93896,"byte_end":93910,"line_start":151,"line_end":151,"column_start":5,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93915,"byte_end":93918,"line_start":152,"line_end":152,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93923,"byte_end":93934,"line_start":153,"line_end":153,"column_start":5,"column_end":16}},{"value":"/ extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93939,"byte_end":93965,"line_start":154,"line_end":154,"column_start":5,"column_end":31}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93970,"byte_end":93973,"line_start":155,"line_end":155,"column_start":5,"column_end":8}},{"value":"/ use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":93978,"byte_end":94004,"line_start":156,"line_end":156,"column_start":5,"column_end":31}},{"value":"/ use arc_swap::cache::{Access, Cache};","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94009,"byte_end":94050,"line_start":157,"line_end":157,"column_start":5,"column_end":46}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94055,"byte_end":94058,"line_start":158,"line_end":158,"column_start":5,"column_end":8}},{"value":"/ struct InnerCfg {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94063,"byte_end":94084,"line_start":159,"line_end":159,"column_start":5,"column_end":26}},{"value":"/     answer: usize,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94089,"byte_end":94111,"line_start":160,"line_end":160,"column_start":5,"column_end":27}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94116,"byte_end":94121,"line_start":161,"line_end":161,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94126,"byte_end":94129,"line_start":162,"line_end":162,"column_start":5,"column_end":8}},{"value":"/ struct FullCfg {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94134,"byte_end":94154,"line_start":163,"line_end":163,"column_start":5,"column_end":25}},{"value":"/     inner: InnerCfg,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94159,"byte_end":94183,"line_start":164,"line_end":164,"column_start":5,"column_end":29}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94188,"byte_end":94193,"line_start":165,"line_end":165,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94198,"byte_end":94201,"line_start":166,"line_end":166,"column_start":5,"column_end":8}},{"value":"/ fn use_inner<A: Access<InnerCfg>>(cache: &mut A) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94206,"byte_end":94260,"line_start":167,"line_end":167,"column_start":5,"column_end":59}},{"value":"/     let value = cache.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94265,"byte_end":94298,"line_start":168,"line_end":168,"column_start":5,"column_end":38}},{"value":"/     println!(\"The answer is: {}\", value.answer);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94303,"byte_end":94355,"line_start":169,"line_end":169,"column_start":5,"column_end":57}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94360,"byte_end":94365,"line_start":170,"line_end":170,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94370,"byte_end":94373,"line_start":171,"line_end":171,"column_start":5,"column_end":8}},{"value":"/ let full_cfg = ArcSwap::from_pointee(FullCfg {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94378,"byte_end":94428,"line_start":172,"line_end":172,"column_start":5,"column_end":55}},{"value":"/     inner: InnerCfg {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94433,"byte_end":94458,"line_start":173,"line_end":173,"column_start":5,"column_end":30}},{"value":"/         answer: 42,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94463,"byte_end":94486,"line_start":174,"line_end":174,"column_start":5,"column_end":28}},{"value":"/     }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94491,"byte_end":94500,"line_start":175,"line_end":175,"column_start":5,"column_end":14}},{"value":"/ });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94505,"byte_end":94512,"line_start":176,"line_end":176,"column_start":5,"column_end":12}},{"value":"/ let cache = Cache::new(&full_cfg);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94517,"byte_end":94555,"line_start":177,"line_end":177,"column_start":5,"column_end":43}},{"value":"/ use_inner(&mut cache.map(|full| &full.inner));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94560,"byte_end":94610,"line_start":178,"line_end":178,"column_start":5,"column_end":55}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94615,"byte_end":94618,"line_start":179,"line_end":179,"column_start":5,"column_end":8}},{"value":"/ let inner_cfg = ArcSwap::from_pointee(InnerCfg { answer: 24 });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94623,"byte_end":94690,"line_start":180,"line_end":180,"column_start":5,"column_end":72}},{"value":"/ let mut inner_cache = Cache::new(&inner_cfg);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94695,"byte_end":94744,"line_start":181,"line_end":181,"column_start":5,"column_end":54}},{"value":"/ use_inner(&mut inner_cache);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94749,"byte_end":94781,"line_start":182,"line_end":182,"column_start":5,"column_end":37}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":94786,"byte_end":94793,"line_start":183,"line_end":183,"column_start":5,"column_end":12}}]},{"kind":"Struct","id":{"krate":0,"index":677},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95683,"byte_end":95691,"line_start":222,"line_end":222,"column_start":12,"column_end":20},"name":"MapCache","qualname":"::cache::MapCache","value":"MapCache {  }","parent":null,"children":[{"krate":0,"index":681},{"krate":0,"index":682}],"decl_id":null,"docs":" An implementation of a cache with a projection into the accessed value.","sig":null,"attributes":[{"value":"/ An implementation of a cache with a projection into the accessed value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95422,"byte_end":95497,"line_start":217,"line_end":217,"column_start":1,"column_end":76}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95498,"byte_end":95501,"line_start":218,"line_end":218,"column_start":1,"column_end":4}},{"value":"/ This is the implementation structure for [`Cache::map`]. It can't be created directly and it","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95502,"byte_end":95598,"line_start":219,"line_end":219,"column_start":1,"column_end":97}},{"value":"/ should be used through the [`Access`] trait.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95599,"byte_end":95647,"line_start":220,"line_end":220,"column_start":1,"column_end":49}}]},{"kind":"Mod","id":{"krate":0,"index":241},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":0,"byte_end":0,"line_start":1,"line_end":1,"column_start":1,"column_end":1},"name":"gen_lock","qualname":"::gen_lock","value":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","parent":null,"children":[{"krate":0,"index":242},{"krate":0,"index":245},{"krate":0,"index":246},{"krate":0,"index":249},{"krate":0,"index":252},{"krate":0,"index":253},{"krate":0,"index":703},{"krate":0,"index":707},{"krate":0,"index":254},{"krate":0,"index":257},{"krate":0,"index":262},{"krate":0,"index":263},{"krate":0,"index":264},{"krate":0,"index":266},{"krate":0,"index":268},{"krate":0,"index":709},{"krate":0,"index":713},{"krate":0,"index":715},{"krate":0,"index":269},{"krate":0,"index":717},{"krate":0,"index":721},{"krate":0,"index":275},{"krate":0,"index":723},{"krate":0,"index":727},{"krate":0,"index":282},{"krate":0,"index":730},{"krate":0,"index":283}],"decl_id":null,"docs":" Customization of where and how the generation lock works.","sig":null,"attributes":[{"value":"/ Customization of where and how the generation lock works.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111238,"byte_end":111299,"line_start":1,"line_end":1,"column_start":1,"column_end":62}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111300,"byte_end":111303,"line_start":2,"line_end":2,"column_start":1,"column_end":4}},{"value":"/ By default, all the [`ArcSwapAny`](../struct.ArcSwapAny.html) instances share the same","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111304,"byte_end":111394,"line_start":3,"line_end":3,"column_start":1,"column_end":91}},{"value":"/ generation lock. This is to save space in them (they have the same size as a single pointer),","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111395,"byte_end":111492,"line_start":4,"line_end":4,"column_start":1,"column_end":98}},{"value":"/ because the default lock is quite a large data structure (it's sharded, to prevent too much","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111493,"byte_end":111588,"line_start":5,"line_end":5,"column_start":1,"column_end":96}},{"value":"/ contention between different threads). This has the disadvantage that a lock on one instance","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111589,"byte_end":111685,"line_start":6,"line_end":6,"column_start":1,"column_end":97}},{"value":"/ influences another instance.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111686,"byte_end":111718,"line_start":7,"line_end":7,"column_start":1,"column_end":33}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111719,"byte_end":111722,"line_start":8,"line_end":8,"column_start":1,"column_end":4}},{"value":"/ The things in this module allow customizing how the lock behaves. The default one is","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111723,"byte_end":111811,"line_start":9,"line_end":9,"column_start":1,"column_end":89}},{"value":"/ [`Global`](struct.Global.html). If you want to use independent but unsharded lock, use the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111812,"byte_end":111906,"line_start":10,"line_end":10,"column_start":1,"column_end":95}},{"value":"/ [`PrivateUnsharded`](struct.PrivateUnsharded.html) (or the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111907,"byte_end":111969,"line_start":11,"line_end":11,"column_start":1,"column_end":63}},{"value":"/ [`IndependentArcSwap`](../type.IndependentArcSwap.html) type alias).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":111970,"byte_end":112042,"line_start":12,"line_end":12,"column_start":1,"column_end":73}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112043,"byte_end":112046,"line_start":13,"line_end":13,"column_start":1,"column_end":4}},{"value":"/ Or you can implement your own lock, but you probably should study the internals of the library","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112047,"byte_end":112145,"line_start":14,"line_end":14,"column_start":1,"column_end":99}},{"value":"/ first.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112146,"byte_end":112156,"line_start":15,"line_end":15,"column_start":1,"column_end":11}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112157,"byte_end":112160,"line_start":16,"line_end":16,"column_start":1,"column_end":4}},{"value":"/ # Not Implemented Yet","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112161,"byte_end":112186,"line_start":17,"line_end":17,"column_start":1,"column_end":26}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112187,"byte_end":112190,"line_start":18,"line_end":18,"column_start":1,"column_end":4}},{"value":"/ These variants would probably make sense, but haven't been written yet:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112191,"byte_end":112266,"line_start":19,"line_end":19,"column_start":1,"column_end":76}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112267,"byte_end":112270,"line_start":20,"line_end":20,"column_start":1,"column_end":4}},{"value":"/ * A lock storage that is shared, but only between a certain group of pointers. It could be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112271,"byte_end":112365,"line_start":21,"line_end":21,"column_start":1,"column_end":95}},{"value":"/   either as a reference (but then each `ArcSwap` would get a bit bigger), or a macro that could","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112366,"byte_end":112465,"line_start":22,"line_end":22,"column_start":1,"column_end":100}},{"value":"/   generate an independent but global storage.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112466,"byte_end":112515,"line_start":23,"line_end":23,"column_start":1,"column_end":50}}]},{"kind":"Struct","id":{"krate":0,"index":703},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113485,"byte_end":113490,"line_start":48,"line_end":48,"column_start":12,"column_end":17},"name":"Shard","qualname":"::gen_lock::Shard","value":"","parent":null,"children":[],"decl_id":null,"docs":" A single shard.","sig":null,"attributes":[{"value":"/ A single shard.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112738,"byte_end":112757,"line_start":34,"line_end":34,"column_start":1,"column_end":20}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112758,"byte_end":112761,"line_start":35,"line_end":35,"column_start":1,"column_end":4}},{"value":"/ This is one copy of place where the library keeps tracks of generation locks. It consists of a","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112762,"byte_end":112860,"line_start":36,"line_end":36,"column_start":1,"column_end":99}},{"value":"/ pair of counters and allows double-buffering readers (therefore, even if there's a never-ending","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112861,"byte_end":112960,"line_start":37,"line_end":37,"column_start":1,"column_end":100}},{"value":"/ stream of readers coming in, writer will get through eventually).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":112961,"byte_end":113030,"line_start":38,"line_end":38,"column_start":1,"column_end":70}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113031,"byte_end":113034,"line_start":39,"line_end":39,"column_start":1,"column_end":4}},{"value":"/ To avoid contention and sharing of the counters between readers, we don't have one pair of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113035,"byte_end":113129,"line_start":40,"line_end":40,"column_start":1,"column_end":95}},{"value":"/ generation counters, but several. The reader picks one shard and uses that, while the writer","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113130,"byte_end":113226,"line_start":41,"line_end":41,"column_start":1,"column_end":97}},{"value":"/ looks through all of them. This is still not perfect (two threads may choose the same ID), but","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113227,"byte_end":113325,"line_start":42,"line_end":42,"column_start":1,"column_end":99}},{"value":"/ it helps.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113326,"byte_end":113339,"line_start":43,"line_end":43,"column_start":1,"column_end":14}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113340,"byte_end":113343,"line_start":44,"line_end":44,"column_start":1,"column_end":4}},{"value":"/ Each [`LockStorage`](trait.LockStorage.html) must provide a (non-empty) array of these.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113344,"byte_end":113435,"line_start":45,"line_end":45,"column_start":1,"column_end":92}},{"value":"repr(align(64))","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113436,"byte_end":113454,"line_start":46,"line_end":46,"column_start":1,"column_end":19}}]},{"kind":"Trait","id":{"krate":0,"index":257},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114280,"byte_end":114291,"line_start":67,"line_end":67,"column_start":18,"column_end":29},"name":"LockStorage","qualname":"::gen_lock::LockStorage","value":"LockStorage: Default","parent":null,"children":[{"krate":0,"index":258},{"krate":0,"index":259},{"krate":0,"index":260},{"krate":0,"index":261}],"decl_id":null,"docs":" Abstraction of the place where generation locks are stored.","sig":null,"attributes":[{"value":"/ Abstraction of the place where generation locks are stored.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113787,"byte_end":113850,"line_start":60,"line_end":60,"column_start":1,"column_end":64}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113851,"byte_end":113854,"line_start":61,"line_end":61,"column_start":1,"column_end":4}},{"value":"/ The trait is unsafe because if the trait messes up with the values stored in there in any way","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113855,"byte_end":113952,"line_start":62,"line_end":62,"column_start":1,"column_end":98}},{"value":"/ (or makes the values available to something else that messes them up), this can cause UB and","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113953,"byte_end":114049,"line_start":63,"line_end":63,"column_start":1,"column_end":97}},{"value":"/ daemons and discomfort to users and such. The library expects it is the only one storing values","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114050,"byte_end":114149,"line_start":64,"line_end":64,"column_start":1,"column_end":100}},{"value":"/ there. In other words, it is expected the trait is only a dumb storage and doesn't actively do","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114150,"byte_end":114248,"line_start":65,"line_end":65,"column_start":1,"column_end":99}},{"value":"/ anything.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114249,"byte_end":114262,"line_start":66,"line_end":66,"column_start":1,"column_end":14}}]},{"kind":"Type","id":{"krate":0,"index":258},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114490,"byte_end":114496,"line_start":72,"line_end":72,"column_start":10,"column_end":16},"name":"Shards","qualname":"::gen_lock::LockStorage::Shards","value":"type Shards: AsRef<[Shard]>;","parent":{"krate":0,"index":257},"children":[],"decl_id":null,"docs":" The type for keeping several shards.","sig":null,"attributes":[{"value":"/ The type for keeping several shards.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114307,"byte_end":114347,"line_start":68,"line_end":68,"column_start":5,"column_end":45}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114352,"byte_end":114355,"line_start":69,"line_end":69,"column_start":5,"column_end":8}},{"value":"/ In general, it is expected to be a fixed-size array, but different implementations can have","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114360,"byte_end":114455,"line_start":70,"line_end":70,"column_start":5,"column_end":100}},{"value":"/ different sizes.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114460,"byte_end":114480,"line_start":71,"line_end":71,"column_start":5,"column_end":25}}]},{"kind":"Method","id":{"krate":0,"index":259},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114756,"byte_end":114763,"line_start":78,"line_end":78,"column_start":8,"column_end":15},"name":"gen_idx","qualname":"::gen_lock::LockStorage::gen_idx","value":"pub fn gen_idx(&Self) -> &AtomicUsize","parent":{"krate":0,"index":257},"children":[],"decl_id":null,"docs":" Access to the generation index.","sig":null,"attributes":[{"value":"/ Access to the generation index.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114519,"byte_end":114554,"line_start":74,"line_end":74,"column_start":5,"column_end":40}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114559,"byte_end":114562,"line_start":75,"line_end":75,"column_start":5,"column_end":8}},{"value":"/ Must return the same instance of the `AtomicUsize` for the lifetime of the storage, must","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114567,"byte_end":114659,"line_start":76,"line_end":76,"column_start":5,"column_end":97}},{"value":"/ start at `0` and the trait itself must not modify it. Must be async-signal-safe.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114664,"byte_end":114748,"line_start":77,"line_end":77,"column_start":5,"column_end":89}}]},{"kind":"Method","id":{"krate":0,"index":260},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114998,"byte_end":115004,"line_start":84,"line_end":84,"column_start":8,"column_end":14},"name":"shards","qualname":"::gen_lock::LockStorage::shards","value":"pub fn shards(&Self) -> &Self::Shards","parent":{"krate":0,"index":257},"children":[],"decl_id":null,"docs":" Access to the shards storage.","sig":null,"attributes":[{"value":"/ Access to the shards storage.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114793,"byte_end":114826,"line_start":80,"line_end":80,"column_start":5,"column_end":38}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114831,"byte_end":114834,"line_start":81,"line_end":81,"column_start":5,"column_end":8}},{"value":"/ Must return the same instance of the shards for the lifetime of the storage. Must start","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114839,"byte_end":114930,"line_start":82,"line_end":82,"column_start":5,"column_end":96}},{"value":"/ zeroed-out and the trait itself must not modify it.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114935,"byte_end":114990,"line_start":83,"line_end":83,"column_start":5,"column_end":60}}]},{"kind":"Method","id":{"krate":0,"index":261},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":115219,"byte_end":115231,"line_start":90,"line_end":90,"column_start":8,"column_end":20},"name":"choose_shard","qualname":"::gen_lock::LockStorage::choose_shard","value":"pub fn choose_shard(&Self) -> usize","parent":{"krate":0,"index":257},"children":[],"decl_id":null,"docs":" Pick one shard of the all selected.","sig":null,"attributes":[{"value":"/ Pick one shard of the all selected.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":115035,"byte_end":115074,"line_start":86,"line_end":86,"column_start":5,"column_end":44}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":115079,"byte_end":115082,"line_start":87,"line_end":87,"column_start":5,"column_end":8}},{"value":"/ Returns the index of one of the shards. The choice can be arbitrary, but it should be fast","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":115087,"byte_end":115181,"line_start":88,"line_end":88,"column_start":5,"column_end":99}},{"value":"/ and avoid collisions.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":115186,"byte_end":115211,"line_start":89,"line_end":89,"column_start":5,"column_end":30}}]},{"kind":"Struct","id":{"krate":0,"index":713},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116334,"byte_end":116340,"line_start":135,"line_end":135,"column_start":12,"column_end":18},"name":"Global","qualname":"::gen_lock::Global","value":"","parent":null,"children":[],"decl_id":null,"docs":" The default, global lock.","sig":null,"attributes":[{"value":"/ The default, global lock.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":115982,"byte_end":116011,"line_start":128,"line_end":128,"column_start":1,"column_end":30}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116012,"byte_end":116015,"line_start":129,"line_end":129,"column_start":1,"column_end":4}},{"value":"/ The lock is stored out-of-band, globally. This means that one `ArcSwap` with this lock storage","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116016,"byte_end":116114,"line_start":130,"line_end":130,"column_start":1,"column_end":99}},{"value":"/ is only one machine word large, but a lock on one instance blocks the other, independent ones.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116115,"byte_end":116213,"line_start":131,"line_end":131,"column_start":1,"column_end":99}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116214,"byte_end":116217,"line_start":132,"line_end":132,"column_start":1,"column_end":4}},{"value":"/ It has several shards so threads are less likely to collide (HW-contend) on them.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116218,"byte_end":116303,"line_start":133,"line_end":133,"column_start":1,"column_end":86}}]},{"kind":"Struct","id":{"krate":0,"index":717},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118013,"byte_end":118029,"line_start":189,"line_end":189,"column_start":12,"column_end":28},"name":"PrivateUnsharded","qualname":"::gen_lock::PrivateUnsharded","value":"PrivateUnsharded {  }","parent":null,"children":[{"krate":0,"index":718},{"krate":0,"index":719}],"decl_id":null,"docs":" A single „shard“ that is stored inline, inside the corresponding `ArcSwap`. Therefore, locks on\n each instance won't influence any other instances. On the other hand, the `ArcSwap` itself gets\n bigger and doesn't have multiple shards, so concurrent uses might contend each other a bit.","sig":null,"attributes":[{"value":"/ A single „shard“ that is stored inline, inside the corresponding `ArcSwap`. Therefore, locks on","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116942,"byte_end":117045,"line_start":165,"line_end":165,"column_start":1,"column_end":100}},{"value":"/ each instance won't influence any other instances. On the other hand, the `ArcSwap` itself gets","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117046,"byte_end":117145,"line_start":166,"line_end":166,"column_start":1,"column_end":100}},{"value":"/ bigger and doesn't have multiple shards, so concurrent uses might contend each other a bit.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117146,"byte_end":117241,"line_start":167,"line_end":167,"column_start":1,"column_end":96}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117242,"byte_end":117245,"line_start":168,"line_end":168,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117246,"byte_end":117257,"line_start":169,"line_end":169,"column_start":1,"column_end":12}},{"value":"/ # use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117258,"byte_end":117283,"line_start":170,"line_end":170,"column_start":1,"column_end":26}},{"value":"/ # use arc_swap::{ArcSwap, ArcSwapAny};","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117284,"byte_end":117326,"line_start":171,"line_end":171,"column_start":1,"column_end":43}},{"value":"/ # use arc_swap::gen_lock::PrivateUnsharded;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117327,"byte_end":117374,"line_start":172,"line_end":172,"column_start":1,"column_end":48}},{"value":"/ // This one shares locks with others.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117375,"byte_end":117416,"line_start":173,"line_end":173,"column_start":1,"column_end":42}},{"value":"/ let shared = ArcSwap::from_pointee(42);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117417,"byte_end":117460,"line_start":174,"line_end":174,"column_start":1,"column_end":44}},{"value":"/ // But this one has an independent lock.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117461,"byte_end":117505,"line_start":175,"line_end":175,"column_start":1,"column_end":45}},{"value":"/ let independent = ArcSwapAny::<Arc<usize>, PrivateUnsharded>::from_pointee(42);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117506,"byte_end":117589,"line_start":176,"line_end":176,"column_start":1,"column_end":84}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117590,"byte_end":117593,"line_start":177,"line_end":177,"column_start":1,"column_end":4}},{"value":"/ // This'll hold a lock so any writers there wouldn't complete","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117594,"byte_end":117659,"line_start":178,"line_end":178,"column_start":1,"column_end":66}},{"value":"/ let l = independent.load_signal_safe();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117660,"byte_end":117703,"line_start":179,"line_end":179,"column_start":1,"column_end":44}},{"value":"/ // But the lock doesn't influence the shared one, so this goes through just fine","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117704,"byte_end":117788,"line_start":180,"line_end":180,"column_start":1,"column_end":85}},{"value":"/ shared.store(Arc::new(43));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117789,"byte_end":117820,"line_start":181,"line_end":181,"column_start":1,"column_end":32}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117821,"byte_end":117824,"line_start":182,"line_end":182,"column_start":1,"column_end":4}},{"value":"/ assert_eq!(42, **l);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117825,"byte_end":117849,"line_start":183,"line_end":183,"column_start":1,"column_end":25}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117850,"byte_end":117857,"line_start":184,"line_end":184,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117858,"byte_end":117861,"line_start":185,"line_end":185,"column_start":1,"column_end":4}},{"value":"/ Note that there`s a type alias [`IndependentArcSwap`](../type.IndependentArcSwap.html) that can","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117862,"byte_end":117961,"line_start":186,"line_end":186,"column_start":1,"column_end":100}},{"value":"/ be used instead.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":117962,"byte_end":117982,"line_start":187,"line_end":187,"column_start":1,"column_end":21}}]},{"kind":"Struct","id":{"krate":0,"index":723},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":119084,"byte_end":119098,"line_start":227,"line_end":227,"column_start":12,"column_end":26},"name":"PrivateSharded","qualname":"::gen_lock::PrivateSharded","value":"PrivateSharded {  }","parent":null,"children":[{"krate":0,"index":725},{"krate":0,"index":726}],"decl_id":null,"docs":" An alternative to [`PrivateUnsharded`], but with configurable number of shards.","sig":null,"attributes":[{"value":"/ An alternative to [`PrivateUnsharded`], but with configurable number of shards.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118395,"byte_end":118478,"line_start":213,"line_end":213,"column_start":1,"column_end":84}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118479,"byte_end":118482,"line_start":214,"line_end":214,"column_start":1,"column_end":4}},{"value":"/ The [`PrivateUnsharded`] is almost identical to `PrivateSharded<[Shard; 1]>` (the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118483,"byte_end":118568,"line_start":215,"line_end":215,"column_start":1,"column_end":86}},{"value":"/ implementation takes advantage of some details to avoid a little bit of overhead). It allows","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118569,"byte_end":118665,"line_start":216,"line_end":216,"column_start":1,"column_end":97}},{"value":"/ the user to choose the trade-of between contention during locking and size of the pointer and","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118666,"byte_end":118763,"line_start":217,"line_end":217,"column_start":1,"column_end":98}},{"value":"/ speed during writes.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118764,"byte_end":118788,"line_start":218,"line_end":218,"column_start":1,"column_end":25}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118789,"byte_end":118792,"line_start":219,"line_end":219,"column_start":1,"column_end":4}},{"value":"/ [`PrivateUnsharded`]: struct.PrivateUnsharded.html","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118793,"byte_end":118847,"line_start":220,"line_end":220,"column_start":1,"column_end":55}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118848,"byte_end":118851,"line_start":221,"line_end":221,"column_start":1,"column_end":4}},{"value":"/ # Note on `AsRef<[Shard]>`","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118852,"byte_end":118882,"line_start":222,"line_end":222,"column_start":1,"column_end":31}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118883,"byte_end":118886,"line_start":223,"line_end":223,"column_start":1,"column_end":4}},{"value":"/ Rust provides the `AsRef` trait (or, actually any trait) up to arrays of 32 elements. If you","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118887,"byte_end":118983,"line_start":224,"line_end":224,"column_start":1,"column_end":97}},{"value":"/ need something bigger, you have to work around it with a newtype.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118984,"byte_end":119053,"line_start":225,"line_end":225,"column_start":1,"column_end":70}}]},{"kind":"Trait","id":{"krate":0,"index":300},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123123,"byte_end":123129,"line_start":37,"line_end":37,"column_start":18,"column_end":24},"name":"RefCnt","qualname":"::ref_cnt::RefCnt","value":"RefCnt: Clone","parent":null,"children":[{"krate":0,"index":301},{"krate":0,"index":302},{"krate":0,"index":303},{"krate":0,"index":304},{"krate":0,"index":305},{"krate":0,"index":306}],"decl_id":null,"docs":" A trait describing smart reference counted pointers.","sig":null,"attributes":[{"value":"/ A trait describing smart reference counted pointers.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121451,"byte_end":121507,"line_start":5,"line_end":5,"column_start":1,"column_end":57}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121508,"byte_end":121511,"line_start":6,"line_end":6,"column_start":1,"column_end":4}},{"value":"/ Note that in a way [`Option<Arc<T>>`][Option] is also a smart reference counted pointer, just","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121512,"byte_end":121609,"line_start":7,"line_end":7,"column_start":1,"column_end":98}},{"value":"/ one that can hold NULL.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121610,"byte_end":121637,"line_start":8,"line_end":8,"column_start":1,"column_end":28}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121638,"byte_end":121641,"line_start":9,"line_end":9,"column_start":1,"column_end":4}},{"value":"/ The trait is unsafe, because a wrong implementation will break the [ArcSwapAny]","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121642,"byte_end":121725,"line_start":10,"line_end":10,"column_start":1,"column_end":84}},{"value":"/ implementation and lead to UB.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121726,"byte_end":121760,"line_start":11,"line_end":11,"column_start":1,"column_end":35}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121761,"byte_end":121764,"line_start":12,"line_end":12,"column_start":1,"column_end":4}},{"value":"/ This is not actually expected for downstream crate to implement, this is just means to reuse","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121765,"byte_end":121861,"line_start":13,"line_end":13,"column_start":1,"column_end":97}},{"value":"/ code for [Arc] and [`Option<Arc>`][Option] variants. However, it is theoretically possible (if","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121862,"byte_end":121960,"line_start":14,"line_end":14,"column_start":1,"column_end":99}},{"value":"/ you have your own [Arc] implementation).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":121961,"byte_end":122005,"line_start":15,"line_end":15,"column_start":1,"column_end":45}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122006,"byte_end":122009,"line_start":16,"line_end":16,"column_start":1,"column_end":4}},{"value":"/ It is also implemented for [Rc], but that is not considered very useful (because the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122010,"byte_end":122098,"line_start":17,"line_end":17,"column_start":1,"column_end":89}},{"value":"/ [ArcSwapAny] is not `Send` or `Sync`, therefore there's very little advantage for it to be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122099,"byte_end":122193,"line_start":18,"line_end":18,"column_start":1,"column_end":95}},{"value":"/ atomic).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122194,"byte_end":122206,"line_start":19,"line_end":19,"column_start":1,"column_end":13}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122207,"byte_end":122210,"line_start":20,"line_end":20,"column_start":1,"column_end":4}},{"value":"/ # Safety","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122211,"byte_end":122223,"line_start":21,"line_end":21,"column_start":1,"column_end":13}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122224,"byte_end":122227,"line_start":22,"line_end":22,"column_start":1,"column_end":4}},{"value":"/ Aside from the obvious greedoids (like that incrementing and decrementing a reference count","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122228,"byte_end":122324,"line_start":23,"line_end":23,"column_start":1,"column_end":97}},{"value":"/ cancel each out and that having less references tracked than how many things actually point to","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122325,"byte_end":122423,"line_start":24,"line_end":24,"column_start":1,"column_end":99}},{"value":"/ the value is fine as long as the count doesn't drop to 0), it also must satisfy that if two","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122424,"byte_end":122519,"line_start":25,"line_end":25,"column_start":1,"column_end":96}},{"value":"/ pointers have the same value, they point to the same object. This is specifically not true for","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122520,"byte_end":122618,"line_start":26,"line_end":26,"column_start":1,"column_end":99}},{"value":"/ ZSTs, but it is true for `Arc`s of ZSTs, because they have the reference counts just after the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122619,"byte_end":122717,"line_start":27,"line_end":27,"column_start":1,"column_end":99}},{"value":"/ value. It would be fine to point to a type-erased version of the same object, though (if one","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122718,"byte_end":122814,"line_start":28,"line_end":28,"column_start":1,"column_end":97}},{"value":"/ could use this trait with unsized types in the first place).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122815,"byte_end":122879,"line_start":29,"line_end":29,"column_start":1,"column_end":65}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122880,"byte_end":122883,"line_start":30,"line_end":30,"column_start":1,"column_end":4}},{"value":"/ Furthermore, the type should be Pin (eg. if the type is cloned or moved, it should still","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122884,"byte_end":122976,"line_start":31,"line_end":31,"column_start":1,"column_end":93}},{"value":"/ point/deref to the same place in memory).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":122977,"byte_end":123022,"line_start":32,"line_end":32,"column_start":1,"column_end":46}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123023,"byte_end":123026,"line_start":33,"line_end":33,"column_start":1,"column_end":4}},{"value":"/ [Arc]: std::sync::Arc","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123027,"byte_end":123052,"line_start":34,"line_end":34,"column_start":1,"column_end":26}},{"value":"/ [Rc]: std::rc::Rc","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123053,"byte_end":123074,"line_start":35,"line_end":35,"column_start":1,"column_end":22}},{"value":"/ [ArcSwapAny]: ::ArcSwapAny","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123075,"byte_end":123105,"line_start":36,"line_end":36,"column_start":1,"column_end":31}}]},{"kind":"Type","id":{"krate":0,"index":301},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123193,"byte_end":123197,"line_start":39,"line_end":39,"column_start":10,"column_end":14},"name":"Base","qualname":"::ref_cnt::RefCnt::Base","value":"type Base;","parent":{"krate":0,"index":300},"children":[],"decl_id":null,"docs":" The base type the pointer points to.\n","sig":null,"attributes":[{"value":"/ The base type the pointer points to.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123143,"byte_end":123183,"line_start":38,"line_end":38,"column_start":5,"column_end":45}}]},{"kind":"Method","id":{"krate":0,"index":302},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123592,"byte_end":123600,"line_start":48,"line_end":48,"column_start":8,"column_end":16},"name":"into_ptr","qualname":"::ref_cnt::RefCnt::into_ptr","value":"pub fn into_ptr(Self) -> *mut Self::Base","parent":{"krate":0,"index":300},"children":[],"decl_id":null,"docs":" Converts the smart pointer into a raw pointer, without affecting the reference count.","sig":null,"attributes":[{"value":"/ Converts the smart pointer into a raw pointer, without affecting the reference count.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123204,"byte_end":123293,"line_start":41,"line_end":41,"column_start":5,"column_end":94}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123298,"byte_end":123301,"line_start":42,"line_end":42,"column_start":5,"column_end":8}},{"value":"/ This can be seen as kind of freezing the pointer ‒ it'll be later converted back using","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123306,"byte_end":123398,"line_start":43,"line_end":43,"column_start":5,"column_end":95}},{"value":"/ [`from_ptr`](#method.from_ptr).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123403,"byte_end":123438,"line_start":44,"line_end":44,"column_start":5,"column_end":40}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123443,"byte_end":123446,"line_start":45,"line_end":45,"column_start":5,"column_end":8}},{"value":"/ The pointer must point to the value stored (and the value must be the same as one returned","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123451,"byte_end":123545,"line_start":46,"line_end":46,"column_start":5,"column_end":99}},{"value":"/ by [`as_ptr`](#method.as_ptr).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123550,"byte_end":123584,"line_start":47,"line_end":47,"column_start":5,"column_end":39}}]},{"kind":"Method","id":{"krate":0,"index":303},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123795,"byte_end":123801,"line_start":53,"line_end":53,"column_start":8,"column_end":14},"name":"as_ptr","qualname":"::ref_cnt::RefCnt::as_ptr","value":"pub fn as_ptr(&Self) -> *mut Self::Base","parent":{"krate":0,"index":300},"children":[],"decl_id":null,"docs":" Provides a view into the smart pointer as a raw pointer.","sig":null,"attributes":[{"value":"/ Provides a view into the smart pointer as a raw pointer.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123636,"byte_end":123696,"line_start":50,"line_end":50,"column_start":5,"column_end":65}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123701,"byte_end":123704,"line_start":51,"line_end":51,"column_start":5,"column_end":8}},{"value":"/ This must not affect the reference count ‒ the pointer is only borrowed.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123709,"byte_end":123787,"line_start":52,"line_end":52,"column_start":5,"column_end":81}}]},{"kind":"Method","id":{"krate":0,"index":304},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124490,"byte_end":124498,"line_start":66,"line_end":66,"column_start":15,"column_end":23},"name":"from_ptr","qualname":"::ref_cnt::RefCnt::from_ptr","value":"pub unsafe fn from_ptr(*const Self::Base) -> Self","parent":{"krate":0,"index":300},"children":[],"decl_id":null,"docs":" Converts a raw pointer back into the smart pointer, without affecting the reference count.","sig":null,"attributes":[{"value":"/ Converts a raw pointer back into the smart pointer, without affecting the reference count.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123838,"byte_end":123932,"line_start":55,"line_end":55,"column_start":5,"column_end":99}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123937,"byte_end":123940,"line_start":56,"line_end":56,"column_start":5,"column_end":8}},{"value":"/ This is only called on values previously returned by [`into_ptr`](#method.into_ptr).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123945,"byte_end":124033,"line_start":57,"line_end":57,"column_start":5,"column_end":93}},{"value":"/ However, it is not guaranteed to be 1:1 relation ‒ `from_ptr` may be called more times than","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124038,"byte_end":124135,"line_start":58,"line_end":58,"column_start":5,"column_end":100}},{"value":"/ `into_ptr` temporarily provided the reference count never drops under 1 during that time","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124140,"byte_end":124232,"line_start":59,"line_end":59,"column_start":5,"column_end":97}},{"value":"/ (the implementation sometimes owes a reference). These extra pointers will either be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124237,"byte_end":124325,"line_start":60,"line_end":60,"column_start":5,"column_end":93}},{"value":"/ converted back using `into_ptr` or forgotten.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124330,"byte_end":124379,"line_start":61,"line_end":61,"column_start":5,"column_end":54}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124384,"byte_end":124387,"line_start":62,"line_end":62,"column_start":5,"column_end":8}},{"value":"/ # Safety","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124392,"byte_end":124404,"line_start":63,"line_end":63,"column_start":5,"column_end":17}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124409,"byte_end":124412,"line_start":64,"line_end":64,"column_start":5,"column_end":8}},{"value":"/ This must not be called by code outside of this crate.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124417,"byte_end":124475,"line_start":65,"line_end":65,"column_start":5,"column_end":63}}]},{"kind":"Method","id":{"krate":0,"index":305},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124587,"byte_end":124590,"line_start":69,"line_end":69,"column_start":8,"column_end":11},"name":"inc","qualname":"::ref_cnt::RefCnt::inc","value":"pub fn inc(&Self)","parent":{"krate":0,"index":300},"children":[],"decl_id":null,"docs":" Increments the reference count by one.\n","sig":null,"attributes":[{"value":"/ Increments the reference count by one.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124537,"byte_end":124579,"line_start":68,"line_end":68,"column_start":5,"column_end":47}}]},{"kind":"Method","id":{"krate":0,"index":306},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":125033,"byte_end":125036,"line_start":82,"line_end":82,"column_start":15,"column_end":18},"name":"dec","qualname":"::ref_cnt::RefCnt::dec","value":"pub unsafe fn dec(*const Self::Base)","parent":{"krate":0,"index":300},"children":[],"decl_id":null,"docs":" Decrements the reference count by one.","sig":null,"attributes":[{"value":"/ Decrements the reference count by one.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124656,"byte_end":124698,"line_start":73,"line_end":73,"column_start":5,"column_end":47}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124703,"byte_end":124706,"line_start":74,"line_end":74,"column_start":5,"column_end":8}},{"value":"/ Note this is called on a raw pointer (one previously returned by","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124711,"byte_end":124779,"line_start":75,"line_end":75,"column_start":5,"column_end":73}},{"value":"/ [`into_ptr`](#method.into_ptr). This may lead to dropping of the reference count to 0 and","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124784,"byte_end":124877,"line_start":76,"line_end":76,"column_start":5,"column_end":98}},{"value":"/ destruction of the internal pointer.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124882,"byte_end":124922,"line_start":77,"line_end":77,"column_start":5,"column_end":45}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124927,"byte_end":124930,"line_start":78,"line_end":78,"column_start":5,"column_end":8}},{"value":"/ # Safety","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124935,"byte_end":124947,"line_start":79,"line_end":79,"column_start":5,"column_end":17}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124952,"byte_end":124955,"line_start":80,"line_end":80,"column_start":5,"column_end":8}},{"value":"/ This must not be called by code outside of this crate.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":124960,"byte_end":125018,"line_start":81,"line_end":81,"column_start":5,"column_end":63}}]},{"kind":"Struct","id":{"krate":0,"index":436},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23466,"byte_end":23471,"line_start":493,"line_end":493,"column_start":12,"column_end":17},"name":"Guard","qualname":"::Guard","value":"Guard {  }","parent":null,"children":[{"krate":0,"index":439},{"krate":0,"index":440}],"decl_id":null,"docs":" A temporary storage of the pointer.","sig":null,"attributes":[{"value":"/ A temporary storage of the pointer.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23164,"byte_end":23203,"line_start":488,"line_end":488,"column_start":1,"column_end":40}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23204,"byte_end":23207,"line_start":489,"line_end":489,"column_start":1,"column_end":4}},{"value":"/ This guard object is returned from most loading methods (with the notable exception of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23208,"byte_end":23298,"line_start":490,"line_end":490,"column_start":1,"column_end":91}},{"value":"/ [`load_full`](struct.ArcSwapAny.html#method.load_full)). It dereferences to the smart pointer","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23299,"byte_end":23396,"line_start":491,"line_end":491,"column_start":1,"column_end":98}},{"value":"/ loaded, so most operations are to be done using that.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23397,"byte_end":23454,"line_start":492,"line_end":492,"column_start":1,"column_end":58}}]},{"kind":"Method","id":{"krate":0,"index":445},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":24106,"byte_end":24116,"line_start":513,"line_end":513,"column_start":12,"column_end":22},"name":"into_inner","qualname":"<Guard>::into_inner","value":"pub fn into_inner(Self) -> T","parent":null,"children":[],"decl_id":null,"docs":" Converts it into the held value.","sig":null,"attributes":[{"value":"/ Converts it into the held value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23793,"byte_end":23829,"line_start":506,"line_end":506,"column_start":5,"column_end":41}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23834,"byte_end":23837,"line_start":507,"line_end":507,"column_start":5,"column_end":8}},{"value":"/ This, on occasion, may be a tiny bit faster than cloning the Arc or whatever is being held","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23842,"byte_end":23936,"line_start":508,"line_end":508,"column_start":5,"column_end":99}},{"value":"/ inside.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23941,"byte_end":23952,"line_start":509,"line_end":509,"column_start":5,"column_end":16}},{"value":"inline","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":24085,"byte_end":24094,"line_start":512,"line_end":512,"column_start":5,"column_end":14}}]},{"kind":"Method","id":{"krate":0,"index":446},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25982,"byte_end":25992,"line_start":559,"line_end":559,"column_start":12,"column_end":22},"name":"from_inner","qualname":"<Guard>::from_inner","value":"pub fn from_inner(T) -> Self","parent":null,"children":[],"decl_id":null,"docs":" Create a guard for a given value `inner`.","sig":null,"attributes":[{"value":"/ Create a guard for a given value `inner`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25459,"byte_end":25504,"line_start":543,"line_end":543,"column_start":5,"column_end":50}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25509,"byte_end":25512,"line_start":544,"line_end":544,"column_start":5,"column_end":8}},{"value":"/ This can be useful on occasion to pass a specific object to code that expects or","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25517,"byte_end":25601,"line_start":545,"line_end":545,"column_start":5,"column_end":89}},{"value":"/ wants to store a Guard.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25606,"byte_end":25633,"line_start":546,"line_end":546,"column_start":5,"column_end":32}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25638,"byte_end":25641,"line_start":547,"line_end":547,"column_start":5,"column_end":8}},{"value":"/ # Example","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25646,"byte_end":25659,"line_start":548,"line_end":548,"column_start":5,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25664,"byte_end":25667,"line_start":549,"line_end":549,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25672,"byte_end":25683,"line_start":550,"line_end":550,"column_start":5,"column_end":16}},{"value":"/ # use arc_swap::{ArcSwap, Guard};","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25688,"byte_end":25725,"line_start":551,"line_end":551,"column_start":5,"column_end":42}},{"value":"/ # use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25730,"byte_end":25755,"line_start":552,"line_end":552,"column_start":5,"column_end":30}},{"value":"/ # let p = ArcSwap::from_pointee(42);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25760,"byte_end":25800,"line_start":553,"line_end":553,"column_start":5,"column_end":45}},{"value":"/ // Create two guards pointing to the same object","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25805,"byte_end":25857,"line_start":554,"line_end":554,"column_start":5,"column_end":57}},{"value":"/ let g1 = p.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25862,"byte_end":25884,"line_start":555,"line_end":555,"column_start":5,"column_end":27}},{"value":"/ let g2 = Guard::from_inner(Arc::clone(&*g1));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25889,"byte_end":25938,"line_start":556,"line_end":556,"column_start":5,"column_end":54}},{"value":"/ # drop(g2);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25943,"byte_end":25958,"line_start":557,"line_end":557,"column_start":5,"column_end":20}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":25963,"byte_end":25970,"line_start":558,"line_end":558,"column_start":5,"column_end":12}}]},{"kind":"Struct","id":{"krate":0,"index":469},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30437,"byte_end":30447,"line_start":686,"line_end":686,"column_start":12,"column_end":22},"name":"ArcSwapAny","qualname":"::ArcSwapAny","value":"ArcSwapAny {  }","parent":null,"children":[{"krate":0,"index":472},{"krate":0,"index":473},{"krate":0,"index":474}],"decl_id":null,"docs":" An atomic storage for a reference counted smart pointer like [`Arc`] or `Option<Arc>`.","sig":null,"attributes":[{"value":"/ An atomic storage for a reference counted smart pointer like [`Arc`] or `Option<Arc>`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28391,"byte_end":28481,"line_start":639,"line_end":639,"column_start":1,"column_end":91}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28482,"byte_end":28485,"line_start":640,"line_end":640,"column_start":1,"column_end":4}},{"value":"/ This is a storage where a smart pointer may live. It can be read and written atomically from","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28486,"byte_end":28582,"line_start":641,"line_end":641,"column_start":1,"column_end":97}},{"value":"/ several threads, but doesn't act like a pointer itself.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28583,"byte_end":28642,"line_start":642,"line_end":642,"column_start":1,"column_end":60}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28643,"byte_end":28646,"line_start":643,"line_end":643,"column_start":1,"column_end":4}},{"value":"/ One can be created [`from`] an [`Arc`]. To get the pointer back, use the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28647,"byte_end":28723,"line_start":644,"line_end":644,"column_start":1,"column_end":77}},{"value":"/ [`load`](#method.load).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28724,"byte_end":28751,"line_start":645,"line_end":645,"column_start":1,"column_end":28}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28752,"byte_end":28755,"line_start":646,"line_end":646,"column_start":1,"column_end":4}},{"value":"/ # Note","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28756,"byte_end":28766,"line_start":647,"line_end":647,"column_start":1,"column_end":11}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28767,"byte_end":28770,"line_start":648,"line_end":648,"column_start":1,"column_end":4}},{"value":"/ This is the common generic implementation. This allows sharing the same code for storing","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28771,"byte_end":28863,"line_start":649,"line_end":649,"column_start":1,"column_end":93}},{"value":"/ both `Arc` and `Option<Arc>` (and possibly other similar types).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28864,"byte_end":28932,"line_start":650,"line_end":650,"column_start":1,"column_end":69}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28933,"byte_end":28936,"line_start":651,"line_end":651,"column_start":1,"column_end":4}},{"value":"/ In your code, you most probably want to interact with it through the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":28937,"byte_end":29009,"line_start":652,"line_end":652,"column_start":1,"column_end":73}},{"value":"/ [`ArcSwap`](type.ArcSwap.html) and [`ArcSwapOption`](type.ArcSwapOption.html) aliases. However,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29010,"byte_end":29109,"line_start":653,"line_end":653,"column_start":1,"column_end":100}},{"value":"/ the methods they share are described here and are applicable to both of them. That's why the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29110,"byte_end":29206,"line_start":654,"line_end":654,"column_start":1,"column_end":97}},{"value":"/ examples here use `ArcSwap` ‒ but they could as well be written with `ArcSwapOption` or","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29207,"byte_end":29300,"line_start":655,"line_end":655,"column_start":1,"column_end":92}},{"value":"/ `ArcSwapAny`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29301,"byte_end":29318,"line_start":656,"line_end":656,"column_start":1,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29319,"byte_end":29322,"line_start":657,"line_end":657,"column_start":1,"column_end":4}},{"value":"/ # Type parameters","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29323,"byte_end":29344,"line_start":658,"line_end":658,"column_start":1,"column_end":22}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29345,"byte_end":29348,"line_start":659,"line_end":659,"column_start":1,"column_end":4}},{"value":"/ * `T`: The smart pointer to be kept inside. This crate provides implementation for `Arc<_>` and","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29349,"byte_end":29448,"line_start":660,"line_end":660,"column_start":1,"column_end":100}},{"value":"/   `Option<Arc<_>>` (`Rc` too, but that one is not practically useful). But third party could","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29449,"byte_end":29545,"line_start":661,"line_end":661,"column_start":1,"column_end":97}},{"value":"/   provide implementations of the [`RefCnt`] trait and plug in others.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29546,"byte_end":29619,"line_start":662,"line_end":662,"column_start":1,"column_end":74}},{"value":"/ * `S`: This describes where the generation lock is stored and how it works (this allows tuning","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29620,"byte_end":29718,"line_start":663,"line_end":663,"column_start":1,"column_end":99}},{"value":"/   some of the performance trade-offs). See the [`LockStorage`][LockStorage] trait.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29719,"byte_end":29805,"line_start":664,"line_end":664,"column_start":1,"column_end":87}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29806,"byte_end":29809,"line_start":665,"line_end":665,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29810,"byte_end":29824,"line_start":666,"line_end":666,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29825,"byte_end":29828,"line_start":667,"line_end":667,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29829,"byte_end":29840,"line_start":668,"line_end":668,"column_start":1,"column_end":12}},{"value":"/ # use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29841,"byte_end":29866,"line_start":669,"line_end":669,"column_start":1,"column_end":26}},{"value":"/ # use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29867,"byte_end":29895,"line_start":670,"line_end":670,"column_start":1,"column_end":29}},{"value":"/ let arc = Arc::new(42);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29896,"byte_end":29923,"line_start":671,"line_end":671,"column_start":1,"column_end":28}},{"value":"/ let arc_swap = ArcSwap::from(arc);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29924,"byte_end":29962,"line_start":672,"line_end":672,"column_start":1,"column_end":39}},{"value":"/ assert_eq!(42, **arc_swap.load());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":29963,"byte_end":30001,"line_start":673,"line_end":673,"column_start":1,"column_end":39}},{"value":"/ // It can be read multiple times","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30002,"byte_end":30038,"line_start":674,"line_end":674,"column_start":1,"column_end":37}},{"value":"/ assert_eq!(42, **arc_swap.load());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30039,"byte_end":30077,"line_start":675,"line_end":675,"column_start":1,"column_end":39}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30078,"byte_end":30081,"line_start":676,"line_end":676,"column_start":1,"column_end":4}},{"value":"/ // Put a new one in there","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30082,"byte_end":30111,"line_start":677,"line_end":677,"column_start":1,"column_end":30}},{"value":"/ let new_arc = Arc::new(0);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30112,"byte_end":30142,"line_start":678,"line_end":678,"column_start":1,"column_end":31}},{"value":"/ assert_eq!(42, *arc_swap.swap(new_arc));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30143,"byte_end":30187,"line_start":679,"line_end":679,"column_start":1,"column_end":45}},{"value":"/ assert_eq!(0, **arc_swap.load());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30188,"byte_end":30225,"line_start":680,"line_end":680,"column_start":1,"column_end":38}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30226,"byte_end":30233,"line_start":681,"line_end":681,"column_start":1,"column_end":8}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30234,"byte_end":30237,"line_start":682,"line_end":682,"column_start":1,"column_end":4}},{"value":"/ [`Arc`]: https://doc.rust-lang.org/std/sync/struct.Arc.html","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30238,"byte_end":30301,"line_start":683,"line_end":683,"column_start":1,"column_end":64}},{"value":"/ [`from`]: https://doc.rust-lang.org/nightly/std/convert/trait.From.html#tymethod.from","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30302,"byte_end":30391,"line_start":684,"line_end":684,"column_start":1,"column_end":90}},{"value":"/ [`RefCnt`]: trait.RefCnt.html","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30392,"byte_end":30425,"line_start":685,"line_end":685,"column_start":1,"column_end":34}}]},{"kind":"Method","id":{"krate":0,"index":502},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32406,"byte_end":32409,"line_start":757,"line_end":757,"column_start":12,"column_end":15},"name":"new","qualname":"<ArcSwapAny<T, S>>::new","value":"pub fn new(T) -> Self","parent":null,"children":[],"decl_id":null,"docs":" Constructs a new value.\n","sig":null,"attributes":[{"value":"/ Constructs a new value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32367,"byte_end":32394,"line_start":756,"line_end":756,"column_start":5,"column_end":32}}]},{"kind":"Method","id":{"krate":0,"index":503},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32505,"byte_end":32515,"line_start":762,"line_end":762,"column_start":12,"column_end":22},"name":"into_inner","qualname":"<ArcSwapAny<T, S>>::into_inner","value":"pub fn into_inner(Self) -> T","parent":null,"children":[],"decl_id":null,"docs":" Extracts the value inside.\n","sig":null,"attributes":[{"value":"/ Extracts the value inside.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32463,"byte_end":32493,"line_start":761,"line_end":761,"column_start":5,"column_end":35}}]},{"kind":"Method","id":{"krate":0,"index":504},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33044,"byte_end":33053,"line_start":777,"line_end":777,"column_start":12,"column_end":21},"name":"load_full","qualname":"<ArcSwapAny<T, S>>::load_full","value":"pub fn load_full(&Self) -> T","parent":null,"children":[],"decl_id":null,"docs":" Loads the value.","sig":null,"attributes":[{"value":"/ Loads the value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32714,"byte_end":32734,"line_start":770,"line_end":770,"column_start":5,"column_end":25}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32739,"byte_end":32742,"line_start":771,"line_end":771,"column_start":5,"column_end":8}},{"value":"/ This makes another copy of the held pointer and returns it, atomically (it is","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32747,"byte_end":32828,"line_start":772,"line_end":772,"column_start":5,"column_end":86}},{"value":"/ safe even when other thread stores into the same instance at the same time).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32833,"byte_end":32913,"line_start":773,"line_end":773,"column_start":5,"column_end":85}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32918,"byte_end":32921,"line_start":774,"line_end":774,"column_start":5,"column_end":8}},{"value":"/ The method is lock-free and wait-free, but usually more expensive than","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32926,"byte_end":33000,"line_start":775,"line_end":775,"column_start":5,"column_end":79}},{"value":"/ [`load`](#method.load).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33005,"byte_end":33032,"line_start":776,"line_end":776,"column_start":5,"column_end":32}}]},{"kind":"Method","id":{"krate":0,"index":506},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":34503,"byte_end":34519,"line_start":807,"line_end":807,"column_start":12,"column_end":28},"name":"load_signal_safe","qualname":"<ArcSwapAny<T, S>>::load_signal_safe","value":"pub fn load_signal_safe(&Self) -> Guard<, T>","parent":null,"children":[],"decl_id":null,"docs":" An async-signal-safe version of [`load`](#method.load)","sig":null,"attributes":[{"value":"/ An async-signal-safe version of [`load`](#method.load)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33377,"byte_end":33435,"line_start":789,"line_end":789,"column_start":5,"column_end":63}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33440,"byte_end":33443,"line_start":790,"line_end":790,"column_start":5,"column_end":8}},{"value":"/ This method uses only restricted set of primitives to be async-signal-safe, so it can be","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33448,"byte_end":33540,"line_start":791,"line_end":791,"column_start":5,"column_end":97}},{"value":"/ used inside unix signal handlers. It has no advantages outside of them and it has its own","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33545,"byte_end":33638,"line_start":792,"line_end":792,"column_start":5,"column_end":98}},{"value":"/ downsides, so there's no reason to use it outside of them.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33643,"byte_end":33705,"line_start":793,"line_end":793,"column_start":5,"column_end":67}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33710,"byte_end":33713,"line_start":794,"line_end":794,"column_start":5,"column_end":8}},{"value":"/ # Warning","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33718,"byte_end":33731,"line_start":795,"line_end":795,"column_start":5,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33736,"byte_end":33739,"line_start":796,"line_end":796,"column_start":5,"column_end":8}},{"value":"/ While the method itself is lock-free (it will not be blocked by anything other threads do),","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33744,"byte_end":33839,"line_start":797,"line_end":797,"column_start":5,"column_end":100}},{"value":"/ methods that write are blocked from completion until the returned","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33844,"byte_end":33913,"line_start":798,"line_end":798,"column_start":5,"column_end":74}},{"value":"/ [`Guard`](struct.Guard.html) is dropped. This includes [`store`](#method.store),","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":33918,"byte_end":34002,"line_start":799,"line_end":799,"column_start":5,"column_end":89}},{"value":"/ [`compare_and_swap`](#method.compare_and_swap) and [`rcu`](#method.rcu) and destruction of","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":34007,"byte_end":34101,"line_start":800,"line_end":800,"column_start":5,"column_end":99}},{"value":"/ the `ArcSwapAny` instance.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":34106,"byte_end":34136,"line_start":801,"line_end":801,"column_start":5,"column_end":35}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":34141,"byte_end":34144,"line_start":802,"line_end":802,"column_start":5,"column_end":8}},{"value":"/ By default, the locks are *shared* across all the instances in the program, therefore it","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":34149,"byte_end":34241,"line_start":803,"line_end":803,"column_start":5,"column_end":97}},{"value":"/ blocks writes even to *other* `ArcSwapAny` instances. It is possible to use a private lock","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":34246,"byte_end":34340,"line_start":804,"line_end":804,"column_start":5,"column_end":99}},{"value":"/ (which is recommended if you want to do use this method) by using the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":34345,"byte_end":34418,"line_start":805,"line_end":805,"column_start":5,"column_end":78}},{"value":"/ [`IndependentArcSwap`](type.IndependentArcSwap.html) type alias.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":34423,"byte_end":34491,"line_start":806,"line_end":806,"column_start":5,"column_end":73}}]},{"kind":"Method","id":{"krate":0,"index":508},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37660,"byte_end":37664,"line_start":879,"line_end":879,"column_start":12,"column_end":16},"name":"load","qualname":"<ArcSwapAny<T, S>>::load","value":"pub fn load(&Self) -> Guard","parent":null,"children":[],"decl_id":null,"docs":" Provides a temporary borrow of the object inside.","sig":null,"attributes":[{"value":"/ Provides a temporary borrow of the object inside.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":35524,"byte_end":35577,"line_start":833,"line_end":833,"column_start":5,"column_end":58}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":35582,"byte_end":35585,"line_start":834,"line_end":834,"column_start":5,"column_end":8}},{"value":"/ This returns a proxy object allowing access to the thing held inside.  However, there's","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":35590,"byte_end":35681,"line_start":835,"line_end":835,"column_start":5,"column_end":96}},{"value":"/ only limited amount of possible cheap proxies in existence for each thread ‒ if more are","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":35686,"byte_end":35780,"line_start":836,"line_end":836,"column_start":5,"column_end":97}},{"value":"/ created, it falls back to equivalent of [`load_full`](#method.load_full) internally.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":35785,"byte_end":35873,"line_start":837,"line_end":837,"column_start":5,"column_end":93}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":35878,"byte_end":35881,"line_start":838,"line_end":838,"column_start":5,"column_end":8}},{"value":"/ This is therefore a good choice to use for eg. searching a data structure or juggling the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":35886,"byte_end":35979,"line_start":839,"line_end":839,"column_start":5,"column_end":98}},{"value":"/ pointers around a bit, but not as something to store in larger amounts. The rule of thumb","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":35984,"byte_end":36077,"line_start":840,"line_end":840,"column_start":5,"column_end":98}},{"value":"/ is this is suited for local variables on stack, but not in long-living data structures.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36082,"byte_end":36173,"line_start":841,"line_end":841,"column_start":5,"column_end":96}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36178,"byte_end":36181,"line_start":842,"line_end":842,"column_start":5,"column_end":8}},{"value":"/ # Consistency","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36186,"byte_end":36203,"line_start":843,"line_end":843,"column_start":5,"column_end":22}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36208,"byte_end":36211,"line_start":844,"line_end":844,"column_start":5,"column_end":8}},{"value":"/ In case multiple related operations are to be done on the loaded value, it is generally","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36216,"byte_end":36307,"line_start":845,"line_end":845,"column_start":5,"column_end":96}},{"value":"/ recommended to call `load` just once and keep the result over calling it multiple times.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36312,"byte_end":36404,"line_start":846,"line_end":846,"column_start":5,"column_end":97}},{"value":"/ First, keeping it is usually faster. But more importantly, the value can change between the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36409,"byte_end":36504,"line_start":847,"line_end":847,"column_start":5,"column_end":100}},{"value":"/ calls to load, returning different objects, which could lead to logical inconsistency.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36509,"byte_end":36599,"line_start":848,"line_end":848,"column_start":5,"column_end":95}},{"value":"/ Keeping the result makes sure the same object is used.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36604,"byte_end":36662,"line_start":849,"line_end":849,"column_start":5,"column_end":63}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36667,"byte_end":36670,"line_start":850,"line_end":850,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36675,"byte_end":36686,"line_start":851,"line_end":851,"column_start":5,"column_end":16}},{"value":"/ # use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36691,"byte_end":36719,"line_start":852,"line_end":852,"column_start":5,"column_end":33}},{"value":"/ struct Point {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36724,"byte_end":36742,"line_start":853,"line_end":853,"column_start":5,"column_end":23}},{"value":"/     x: usize,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36747,"byte_end":36764,"line_start":854,"line_end":854,"column_start":5,"column_end":22}},{"value":"/     y: usize,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36769,"byte_end":36786,"line_start":855,"line_end":855,"column_start":5,"column_end":22}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36791,"byte_end":36796,"line_start":856,"line_end":856,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36801,"byte_end":36804,"line_start":857,"line_end":857,"column_start":5,"column_end":8}},{"value":"/ fn print_broken(p: &ArcSwap<Point>) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36809,"byte_end":36850,"line_start":858,"line_end":858,"column_start":5,"column_end":46}},{"value":"/     // This is broken, because the x and y may come from different points,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36855,"byte_end":36933,"line_start":859,"line_end":859,"column_start":5,"column_end":83}},{"value":"/     // combining into an invalid point that never existed.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":36938,"byte_end":37000,"line_start":860,"line_end":860,"column_start":5,"column_end":67}},{"value":"/     println!(\"X: {}\", p.load().x);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37005,"byte_end":37043,"line_start":861,"line_end":861,"column_start":5,"column_end":43}},{"value":"/     // If someone changes the content now, between these two loads, we","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37048,"byte_end":37122,"line_start":862,"line_end":862,"column_start":5,"column_end":79}},{"value":"/     // have a problem","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37127,"byte_end":37152,"line_start":863,"line_end":863,"column_start":5,"column_end":30}},{"value":"/     println!(\"Y: {}\", p.load().y);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37157,"byte_end":37195,"line_start":864,"line_end":864,"column_start":5,"column_end":43}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37200,"byte_end":37205,"line_start":865,"line_end":865,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37210,"byte_end":37213,"line_start":866,"line_end":866,"column_start":5,"column_end":8}},{"value":"/ fn print_correct(p: &ArcSwap<Point>) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37218,"byte_end":37260,"line_start":867,"line_end":867,"column_start":5,"column_end":47}},{"value":"/     // Here we take a lightlike_persistence of one specific point so both x and y come","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37265,"byte_end":37342,"line_start":868,"line_end":868,"column_start":5,"column_end":82}},{"value":"/     // from the same one.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37347,"byte_end":37376,"line_start":869,"line_end":869,"column_start":5,"column_end":34}},{"value":"/     let point = p.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37381,"byte_end":37410,"line_start":870,"line_end":870,"column_start":5,"column_end":34}},{"value":"/     println!(\"X: {}\", point.x);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37415,"byte_end":37450,"line_start":871,"line_end":871,"column_start":5,"column_end":40}},{"value":"/     println!(\"Y: {}\", point.y);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37455,"byte_end":37490,"line_start":872,"line_end":872,"column_start":5,"column_end":40}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37495,"byte_end":37500,"line_start":873,"line_end":873,"column_start":5,"column_end":10}},{"value":"/ # let p = ArcSwap::from_pointee(Point { x: 10, y: 20 });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37505,"byte_end":37565,"line_start":874,"line_end":874,"column_start":5,"column_end":65}},{"value":"/ # print_correct(&p);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37570,"byte_end":37594,"line_start":875,"line_end":875,"column_start":5,"column_end":29}},{"value":"/ # print_broken(&p);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37599,"byte_end":37622,"line_start":876,"line_end":876,"column_start":5,"column_end":28}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37627,"byte_end":37634,"line_start":877,"line_end":877,"column_start":5,"column_end":12}},{"value":"inline","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":37639,"byte_end":37648,"line_start":878,"line_end":878,"column_start":5,"column_end":14}}]},{"kind":"Method","id":{"krate":0,"index":510},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38163,"byte_end":38168,"line_start":891,"line_end":891,"column_start":12,"column_end":17},"name":"store","qualname":"<ArcSwapAny<T, S>>::store","value":"pub fn store(&Self, T)","parent":null,"children":[],"decl_id":null,"docs":" Replaces the value inside this instance.","sig":null,"attributes":[{"value":"/ Replaces the value inside this instance.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38011,"byte_end":38055,"line_start":888,"line_end":888,"column_start":5,"column_end":49}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38060,"byte_end":38063,"line_start":889,"line_end":889,"column_start":5,"column_end":8}},{"value":"/ Further loads will yield the new value. Uses [`swap`](#method.swap) internally.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38068,"byte_end":38151,"line_start":890,"line_end":890,"column_start":5,"column_end":88}}]},{"kind":"Method","id":{"krate":0,"index":511},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39118,"byte_end":39122,"line_start":914,"line_end":914,"column_start":12,"column_end":16},"name":"swap","qualname":"<ArcSwapAny<T, S>>::swap","value":"pub fn swap(&Self, T) -> T","parent":null,"children":[],"decl_id":null,"docs":" Exchanges the value inside this instance.","sig":null,"attributes":[{"value":"/ Exchanges the value inside this instance.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38227,"byte_end":38272,"line_start":895,"line_end":895,"column_start":5,"column_end":50}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38277,"byte_end":38280,"line_start":896,"line_end":896,"column_start":5,"column_end":8}},{"value":"/ Note that this method is *not* lock-free. In particular, it is possible to block this","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38285,"byte_end":38374,"line_start":897,"line_end":897,"column_start":5,"column_end":94}},{"value":"/ method by using the [`load_signal_safe`](#method.load_signal_safe), but","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38379,"byte_end":38454,"line_start":898,"line_end":898,"column_start":5,"column_end":80}},{"value":"/ [`load`](#method.load) may also block it for very short time (several CPU instructions). If","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38459,"byte_end":38554,"line_start":899,"line_end":899,"column_start":5,"column_end":100}},{"value":"/ this happens, `swap` will busy-wait in the meantime.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38559,"byte_end":38615,"line_start":900,"line_end":900,"column_start":5,"column_end":61}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38620,"byte_end":38623,"line_start":901,"line_end":901,"column_start":5,"column_end":8}},{"value":"/ It is also possible to cause a deadlock (eg. this is an example of *broken* code):","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38628,"byte_end":38714,"line_start":902,"line_end":902,"column_start":5,"column_end":91}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38719,"byte_end":38722,"line_start":903,"line_end":903,"column_start":5,"column_end":8}},{"value":"/ ```rust,no_run","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38727,"byte_end":38745,"line_start":904,"line_end":904,"column_start":5,"column_end":23}},{"value":"/ # use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38750,"byte_end":38775,"line_start":905,"line_end":905,"column_start":5,"column_end":30}},{"value":"/ # use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38780,"byte_end":38808,"line_start":906,"line_end":906,"column_start":5,"column_end":33}},{"value":"/ let shared = ArcSwap::from(Arc::new(42));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38813,"byte_end":38858,"line_start":907,"line_end":907,"column_start":5,"column_end":50}},{"value":"/ let guard = shared.load_signal_safe();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38863,"byte_end":38905,"line_start":908,"line_end":908,"column_start":5,"column_end":47}},{"value":"/ // This will deadlock, because the guard is still active here and swap","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38910,"byte_end":38984,"line_start":909,"line_end":909,"column_start":5,"column_end":79}},{"value":"/ // can't pull the value from under its feet.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":38989,"byte_end":39037,"line_start":910,"line_end":910,"column_start":5,"column_end":53}},{"value":"/ shared.swap(Arc::new(0));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39042,"byte_end":39071,"line_start":911,"line_end":911,"column_start":5,"column_end":34}},{"value":"/ # drop(guard);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39076,"byte_end":39094,"line_start":912,"line_end":912,"column_start":5,"column_end":23}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39099,"byte_end":39106,"line_start":913,"line_end":913,"column_start":5,"column_end":12}}]},{"kind":"Method","id":{"krate":0,"index":512},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":40335,"byte_end":40351,"line_start":940,"line_end":940,"column_start":12,"column_end":28},"name":"compare_and_swap","qualname":"<ArcSwapAny<T, S>>::compare_and_swap","value":"pub fn compare_and_swap<C: AsRaw<T::Base>>(&Self, C, T) -> Guard<, T>","parent":null,"children":[],"decl_id":null,"docs":" Swaps the stored Arc if it equals to `current`.","sig":null,"attributes":[{"value":"/ Swaps the stored Arc if it equals to `current`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39516,"byte_end":39567,"line_start":925,"line_end":925,"column_start":5,"column_end":56}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39572,"byte_end":39575,"line_start":926,"line_end":926,"column_start":5,"column_end":8}},{"value":"/ If the current value of the `ArcSwapAny` equals to `current`, the `new` is stored inside.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39580,"byte_end":39673,"line_start":927,"line_end":927,"column_start":5,"column_end":98}},{"value":"/ If not, nothing happens.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39678,"byte_end":39706,"line_start":928,"line_end":928,"column_start":5,"column_end":33}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39711,"byte_end":39714,"line_start":929,"line_end":929,"column_start":5,"column_end":8}},{"value":"/ The previous value (no matter if the swap happened or not) is returned. Therefore, if the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39719,"byte_end":39812,"line_start":930,"line_end":930,"column_start":5,"column_end":98}},{"value":"/ returned value is equal to `current`, the swap happened. You want to do a pointer-based","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39817,"byte_end":39908,"line_start":931,"line_end":931,"column_start":5,"column_end":96}},{"value":"/ comparison to determine it.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39913,"byte_end":39944,"line_start":932,"line_end":932,"column_start":5,"column_end":36}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39949,"byte_end":39952,"line_start":933,"line_end":933,"column_start":5,"column_end":8}},{"value":"/ In other words, if the caller „guesses“ the value of current correctly, it acts like","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":39957,"byte_end":40049,"line_start":934,"line_end":934,"column_start":5,"column_end":93}},{"value":"/ [`swap`](#method.swap), otherwise it acts like [`load_full`](#method.load_full) (including","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":40054,"byte_end":40148,"line_start":935,"line_end":935,"column_start":5,"column_end":99}},{"value":"/ the limitations).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":40153,"byte_end":40174,"line_start":936,"line_end":936,"column_start":5,"column_end":26}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":40179,"byte_end":40182,"line_start":937,"line_end":937,"column_start":5,"column_end":8}},{"value":"/ The `current` can be specified as `&Arc`, [`Guard`](struct.Guard.html),","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":40187,"byte_end":40262,"line_start":938,"line_end":938,"column_start":5,"column_end":80}},{"value":"/ [`&Guards`](struct.Guards.html) or as a raw pointer.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":40267,"byte_end":40323,"line_start":939,"line_end":939,"column_start":5,"column_end":61}}]},{"kind":"Method","id":{"krate":0,"index":518},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48533,"byte_end":48536,"line_start":1148,"line_end":1148,"column_start":12,"column_end":15},"name":"rcu","qualname":"<ArcSwapAny<T, S>>::rcu","value":"pub fn rcu<R, F>(&Self, F) -> T where F: FnMut(&T) -> R, R: Into<T>","parent":null,"children":[],"decl_id":null,"docs":" Read-Copy-Update of the pointer inside.","sig":null,"attributes":[{"value":"/ Read-Copy-Update of the pointer inside.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44280,"byte_end":44323,"line_start":1039,"line_end":1039,"column_start":5,"column_end":48}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44328,"byte_end":44331,"line_start":1040,"line_end":1040,"column_start":5,"column_end":8}},{"value":"/ This is useful in read-heavy situations with several threads that sometimes update the data","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44336,"byte_end":44431,"line_start":1041,"line_end":1041,"column_start":5,"column_end":100}},{"value":"/ pointed to. The readers can just repeatedly use [`load`](#method.load) without any locking.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44436,"byte_end":44531,"line_start":1042,"line_end":1042,"column_start":5,"column_end":100}},{"value":"/ The writer uses this method to perform the update.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44536,"byte_end":44590,"line_start":1043,"line_end":1043,"column_start":5,"column_end":59}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44595,"byte_end":44598,"line_start":1044,"line_end":1044,"column_start":5,"column_end":8}},{"value":"/ In case there's only one thread that does updates or in case the next version is","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44603,"byte_end":44687,"line_start":1045,"line_end":1045,"column_start":5,"column_end":89}},{"value":"/ independent of the previous one, simple [`swap`](#method.swap) or [`store`](#method.store)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44692,"byte_end":44786,"line_start":1046,"line_end":1046,"column_start":5,"column_end":99}},{"value":"/ is enough. Otherwise, it may be needed to retry the update operation if some other thread","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44791,"byte_end":44884,"line_start":1047,"line_end":1047,"column_start":5,"column_end":98}},{"value":"/ made an update in between. This is what this method does.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44889,"byte_end":44950,"line_start":1048,"line_end":1048,"column_start":5,"column_end":66}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44955,"byte_end":44958,"line_start":1049,"line_end":1049,"column_start":5,"column_end":8}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44963,"byte_end":44977,"line_start":1050,"line_end":1050,"column_start":5,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44982,"byte_end":44985,"line_start":1051,"line_end":1051,"column_start":5,"column_end":8}},{"value":"/ This will *not* work as expected, because between loading and storing, some other thread","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":44990,"byte_end":45082,"line_start":1052,"line_end":1052,"column_start":5,"column_end":97}},{"value":"/ might have updated the value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45087,"byte_end":45120,"line_start":1053,"line_end":1053,"column_start":5,"column_end":38}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45125,"byte_end":45128,"line_start":1054,"line_end":1054,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45133,"byte_end":45144,"line_start":1055,"line_end":1055,"column_start":5,"column_end":16}},{"value":"/ # extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45149,"byte_end":45177,"line_start":1056,"line_end":1056,"column_start":5,"column_end":33}},{"value":"/ # extern crate crossbeam_utils;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45182,"byte_end":45217,"line_start":1057,"line_end":1057,"column_start":5,"column_end":40}},{"value":"/ #","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45222,"byte_end":45227,"line_start":1058,"line_end":1058,"column_start":5,"column_end":10}},{"value":"/ # use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45232,"byte_end":45257,"line_start":1059,"line_end":1059,"column_start":5,"column_end":30}},{"value":"/ #","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45262,"byte_end":45267,"line_start":1060,"line_end":1060,"column_start":5,"column_end":10}},{"value":"/ # use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45272,"byte_end":45300,"line_start":1061,"line_end":1061,"column_start":5,"column_end":33}},{"value":"/ # use crossbeam_utils::thread;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45305,"byte_end":45339,"line_start":1062,"line_end":1062,"column_start":5,"column_end":39}},{"value":"/ #","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45344,"byte_end":45349,"line_start":1063,"line_end":1063,"column_start":5,"column_end":10}},{"value":"/ let cnt = ArcSwap::from_pointee(0);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45354,"byte_end":45393,"line_start":1064,"line_end":1064,"column_start":5,"column_end":44}},{"value":"/ thread::scope(|scope| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45398,"byte_end":45425,"line_start":1065,"line_end":1065,"column_start":5,"column_end":32}},{"value":"/     for _ in 0..10 {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45430,"byte_end":45454,"line_start":1066,"line_end":1066,"column_start":5,"column_end":29}},{"value":"/         scope.spawn(|_| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45459,"byte_end":45488,"line_start":1067,"line_end":1067,"column_start":5,"column_end":34}},{"value":"/            let inner = cnt.load_full();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45493,"byte_end":45536,"line_start":1068,"line_end":1068,"column_start":5,"column_end":48}},{"value":"/             // Another thread might have stored some other number than what we have","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45541,"byte_end":45628,"line_start":1069,"line_end":1069,"column_start":5,"column_end":92}},{"value":"/             // between the load and store.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45633,"byte_end":45679,"line_start":1070,"line_end":1070,"column_start":5,"column_end":51}},{"value":"/             cnt.store(Arc::new(*inner + 1));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45684,"byte_end":45732,"line_start":1071,"line_end":1071,"column_start":5,"column_end":53}},{"value":"/         });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45737,"byte_end":45752,"line_start":1072,"line_end":1072,"column_start":5,"column_end":20}},{"value":"/     }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45757,"byte_end":45766,"line_start":1073,"line_end":1073,"column_start":5,"column_end":14}},{"value":"/ }).unwrap();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45771,"byte_end":45787,"line_start":1074,"line_end":1074,"column_start":5,"column_end":21}},{"value":"/ // This will likely fail:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45792,"byte_end":45821,"line_start":1075,"line_end":1075,"column_start":5,"column_end":34}},{"value":"/ // assert_eq!(10, *cnt.load_full());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45826,"byte_end":45866,"line_start":1076,"line_end":1076,"column_start":5,"column_end":45}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45871,"byte_end":45878,"line_start":1077,"line_end":1077,"column_start":5,"column_end":12}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45883,"byte_end":45886,"line_start":1078,"line_end":1078,"column_start":5,"column_end":8}},{"value":"/ This will, but it can call the closure multiple times to retry:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45891,"byte_end":45958,"line_start":1079,"line_end":1079,"column_start":5,"column_end":72}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45963,"byte_end":45966,"line_start":1080,"line_end":1080,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45971,"byte_end":45982,"line_start":1081,"line_end":1081,"column_start":5,"column_end":16}},{"value":"/ # extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":45987,"byte_end":46015,"line_start":1082,"line_end":1082,"column_start":5,"column_end":33}},{"value":"/ # extern crate crossbeam_utils;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46020,"byte_end":46055,"line_start":1083,"line_end":1083,"column_start":5,"column_end":40}},{"value":"/ #","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46060,"byte_end":46065,"line_start":1084,"line_end":1084,"column_start":5,"column_end":10}},{"value":"/ # use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46070,"byte_end":46098,"line_start":1085,"line_end":1085,"column_start":5,"column_end":33}},{"value":"/ # use crossbeam_utils::thread;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46103,"byte_end":46137,"line_start":1086,"line_end":1086,"column_start":5,"column_end":39}},{"value":"/ #","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46142,"byte_end":46147,"line_start":1087,"line_end":1087,"column_start":5,"column_end":10}},{"value":"/ let cnt = ArcSwap::from_pointee(0);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46152,"byte_end":46191,"line_start":1088,"line_end":1088,"column_start":5,"column_end":44}},{"value":"/ thread::scope(|scope| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46196,"byte_end":46223,"line_start":1089,"line_end":1089,"column_start":5,"column_end":32}},{"value":"/     for _ in 0..10 {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46228,"byte_end":46252,"line_start":1090,"line_end":1090,"column_start":5,"column_end":29}},{"value":"/         scope.spawn(|_| cnt.rcu(|inner| **inner + 1));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46257,"byte_end":46315,"line_start":1091,"line_end":1091,"column_start":5,"column_end":63}},{"value":"/     }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46320,"byte_end":46329,"line_start":1092,"line_end":1092,"column_start":5,"column_end":14}},{"value":"/ }).unwrap();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46334,"byte_end":46350,"line_start":1093,"line_end":1093,"column_start":5,"column_end":21}},{"value":"/ assert_eq!(10, *cnt.load_full());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46355,"byte_end":46392,"line_start":1094,"line_end":1094,"column_start":5,"column_end":42}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46397,"byte_end":46404,"line_start":1095,"line_end":1095,"column_start":5,"column_end":12}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46409,"byte_end":46412,"line_start":1096,"line_end":1096,"column_start":5,"column_end":8}},{"value":"/ Due to the retries, you might want to perform all the expensive operations *before* the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46417,"byte_end":46508,"line_start":1097,"line_end":1097,"column_start":5,"column_end":96}},{"value":"/ rcu. As an example, if there's a cache of some computations as a map, and the map is cheap","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46513,"byte_end":46607,"line_start":1098,"line_end":1098,"column_start":5,"column_end":99}},{"value":"/ to clone but the computations are not, you could do something like this:","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46612,"byte_end":46688,"line_start":1099,"line_end":1099,"column_start":5,"column_end":81}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46693,"byte_end":46696,"line_start":1100,"line_end":1100,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46701,"byte_end":46712,"line_start":1101,"line_end":1101,"column_start":5,"column_end":16}},{"value":"/ # extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46717,"byte_end":46745,"line_start":1102,"line_end":1102,"column_start":5,"column_end":33}},{"value":"/ # extern crate crossbeam_utils;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46750,"byte_end":46785,"line_start":1103,"line_end":1103,"column_start":5,"column_end":40}},{"value":"/ # extern crate once_cell;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46790,"byte_end":46819,"line_start":1104,"line_end":1104,"column_start":5,"column_end":34}},{"value":"/ #","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46824,"byte_end":46829,"line_start":1105,"line_end":1105,"column_start":5,"column_end":10}},{"value":"/ # use std::collections::HashMap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46834,"byte_end":46870,"line_start":1106,"line_end":1106,"column_start":5,"column_end":41}},{"value":"/ #","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46875,"byte_end":46880,"line_start":1107,"line_end":1107,"column_start":5,"column_end":10}},{"value":"/ # use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46885,"byte_end":46913,"line_start":1108,"line_end":1108,"column_start":5,"column_end":33}},{"value":"/ # use once_cell::sync::Lazy;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46918,"byte_end":46950,"line_start":1109,"line_end":1109,"column_start":5,"column_end":37}},{"value":"/ #","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46955,"byte_end":46960,"line_start":1110,"line_end":1110,"column_start":5,"column_end":10}},{"value":"/ fn expensive_computation(x: usize) -> usize {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":46965,"byte_end":47014,"line_start":1111,"line_end":1111,"column_start":5,"column_end":54}},{"value":"/     x * 2 // Let's pretend multiplication is *really expensive expensive*","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47019,"byte_end":47096,"line_start":1112,"line_end":1112,"column_start":5,"column_end":82}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47101,"byte_end":47106,"line_start":1113,"line_end":1113,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47111,"byte_end":47114,"line_start":1114,"line_end":1114,"column_start":5,"column_end":8}},{"value":"/ type Cache = HashMap<usize, usize>;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47119,"byte_end":47158,"line_start":1115,"line_end":1115,"column_start":5,"column_end":44}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47163,"byte_end":47166,"line_start":1116,"line_end":1116,"column_start":5,"column_end":8}},{"value":"/ static CACHE: Lazy<ArcSwap<Cache>> = Lazy::new(|| ArcSwap::default());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47171,"byte_end":47245,"line_start":1117,"line_end":1117,"column_start":5,"column_end":79}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47250,"byte_end":47253,"line_start":1118,"line_end":1118,"column_start":5,"column_end":8}},{"value":"/ fn cached_computation(x: usize) -> usize {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47258,"byte_end":47304,"line_start":1119,"line_end":1119,"column_start":5,"column_end":51}},{"value":"/     let cache = CACHE.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47309,"byte_end":47342,"line_start":1120,"line_end":1120,"column_start":5,"column_end":38}},{"value":"/     if let Some(result) = cache.get(&x) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47347,"byte_end":47392,"line_start":1121,"line_end":1121,"column_start":5,"column_end":50}},{"value":"/         return *result;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47397,"byte_end":47424,"line_start":1122,"line_end":1122,"column_start":5,"column_end":32}},{"value":"/     }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47429,"byte_end":47438,"line_start":1123,"line_end":1123,"column_start":5,"column_end":14}},{"value":"/     // Not in cache. Compute and store.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47443,"byte_end":47486,"line_start":1124,"line_end":1124,"column_start":5,"column_end":48}},{"value":"/     // The expensive computation goes outside, so it is not retried.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47491,"byte_end":47563,"line_start":1125,"line_end":1125,"column_start":5,"column_end":77}},{"value":"/     let result = expensive_computation(x);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47568,"byte_end":47614,"line_start":1126,"line_end":1126,"column_start":5,"column_end":51}},{"value":"/     CACHE.rcu(|cache| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47619,"byte_end":47646,"line_start":1127,"line_end":1127,"column_start":5,"column_end":32}},{"value":"/         // The cheaper clone of the cache can be retried if need be.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47651,"byte_end":47723,"line_start":1128,"line_end":1128,"column_start":5,"column_end":77}},{"value":"/         let mut cache = HashMap::clone(&cache);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47728,"byte_end":47779,"line_start":1129,"line_end":1129,"column_start":5,"column_end":56}},{"value":"/         cache.insert(x, result);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47784,"byte_end":47820,"line_start":1130,"line_end":1130,"column_start":5,"column_end":41}},{"value":"/         cache","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47825,"byte_end":47842,"line_start":1131,"line_end":1131,"column_start":5,"column_end":22}},{"value":"/     });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47847,"byte_end":47858,"line_start":1132,"line_end":1132,"column_start":5,"column_end":16}},{"value":"/     result","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47863,"byte_end":47877,"line_start":1133,"line_end":1133,"column_start":5,"column_end":19}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47882,"byte_end":47887,"line_start":1134,"line_end":1134,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47892,"byte_end":47895,"line_start":1135,"line_end":1135,"column_start":5,"column_end":8}},{"value":"/ assert_eq!(42, cached_computation(21));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47900,"byte_end":47943,"line_start":1136,"line_end":1136,"column_start":5,"column_end":48}},{"value":"/ assert_eq!(42, cached_computation(21));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47948,"byte_end":47991,"line_start":1137,"line_end":1137,"column_start":5,"column_end":48}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":47996,"byte_end":48003,"line_start":1138,"line_end":1138,"column_start":5,"column_end":12}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48008,"byte_end":48011,"line_start":1139,"line_end":1139,"column_start":5,"column_end":8}},{"value":"/ # The cost of cloning","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48016,"byte_end":48041,"line_start":1140,"line_end":1140,"column_start":5,"column_end":30}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48046,"byte_end":48049,"line_start":1141,"line_end":1141,"column_start":5,"column_end":8}},{"value":"/ Depending on the size of cache above, the cloning might not be as cheap. You can however","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48054,"byte_end":48146,"line_start":1142,"line_end":1142,"column_start":5,"column_end":97}},{"value":"/ use persistent data structures ‒ each modification creates a new data structure, but it","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48151,"byte_end":48244,"line_start":1143,"line_end":1143,"column_start":5,"column_end":96}},{"value":"/ shares most of the data with the old one (which is usually accomplished by using `Arc`s","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48249,"byte_end":48340,"line_start":1144,"line_end":1144,"column_start":5,"column_end":96}},{"value":"/ inside to share the unchanged values). Something like","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48345,"byte_end":48402,"line_start":1145,"line_end":1145,"column_start":5,"column_end":62}},{"value":"/ [`rpds`](https://crates.io/crates/rpds) or [`im`](https://crates.io/crates/im) might do","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48407,"byte_end":48498,"line_start":1146,"line_end":1146,"column_start":5,"column_end":96}},{"value":"/ what you need.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48503,"byte_end":48521,"line_start":1147,"line_end":1147,"column_start":5,"column_end":23}}]},{"kind":"Method","id":{"krate":0,"index":521},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50894,"byte_end":50897,"line_start":1218,"line_end":1218,"column_start":12,"column_end":15},"name":"map","qualname":"<ArcSwapAny<T, S>>::map","value":"pub fn map<I, R, F>(&Self, F) -> Map<&Self, I, F> where F: Fn(&I) -> &R +\nClone, Self: Access<I>","parent":null,"children":[],"decl_id":null,"docs":" Provides an access to an up to date projection of the carried data.","sig":null,"attributes":[{"value":"/ Provides an access to an up to date projection of the carried data.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":48977,"byte_end":49048,"line_start":1166,"line_end":1166,"column_start":5,"column_end":76}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49053,"byte_end":49056,"line_start":1167,"line_end":1167,"column_start":5,"column_end":8}},{"value":"/ # Motivation","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49061,"byte_end":49077,"line_start":1168,"line_end":1168,"column_start":5,"column_end":21}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49082,"byte_end":49085,"line_start":1169,"line_end":1169,"column_start":5,"column_end":8}},{"value":"/ Sometimes, an application consists of components. Each component has its own configuration","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49090,"byte_end":49184,"line_start":1170,"line_end":1170,"column_start":5,"column_end":99}},{"value":"/ structure. The whole configuration contains all the smaller config parts.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49189,"byte_end":49266,"line_start":1171,"line_end":1171,"column_start":5,"column_end":82}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49271,"byte_end":49274,"line_start":1172,"line_end":1172,"column_start":5,"column_end":8}},{"value":"/ For the sake of separation and abstraction, it is not desirable to pass the whole","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49279,"byte_end":49364,"line_start":1173,"line_end":1173,"column_start":5,"column_end":90}},{"value":"/ configuration to each of the components. This allows the component to take only access to","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49369,"byte_end":49462,"line_start":1174,"line_end":1174,"column_start":5,"column_end":98}},{"value":"/ its own part.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49467,"byte_end":49484,"line_start":1175,"line_end":1175,"column_start":5,"column_end":22}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49489,"byte_end":49492,"line_start":1176,"line_end":1176,"column_start":5,"column_end":8}},{"value":"/ # Lifetimes & flexibility","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49497,"byte_end":49526,"line_start":1177,"line_end":1177,"column_start":5,"column_end":34}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49531,"byte_end":49534,"line_start":1178,"line_end":1178,"column_start":5,"column_end":8}},{"value":"/ This method is not the most flexible way, as the returned type borrows into the `ArcSwap`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49539,"byte_end":49633,"line_start":1179,"line_end":1179,"column_start":5,"column_end":99}},{"value":"/ To provide access into eg. `Arc<ArcSwap<T>>`, you can create the [`Map`] type directly.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49638,"byte_end":49729,"line_start":1180,"line_end":1180,"column_start":5,"column_end":96}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49734,"byte_end":49737,"line_start":1181,"line_end":1181,"column_start":5,"column_end":8}},{"value":"/ # Performance","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49742,"byte_end":49759,"line_start":1182,"line_end":1182,"column_start":5,"column_end":22}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49764,"byte_end":49767,"line_start":1183,"line_end":1183,"column_start":5,"column_end":8}},{"value":"/ As the provided function is called on each load from the shared storage, it should","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49772,"byte_end":49858,"line_start":1184,"line_end":1184,"column_start":5,"column_end":91}},{"value":"/ generally be cheap. It is expected this will usually be just referencing of a field inside","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49863,"byte_end":49957,"line_start":1185,"line_end":1185,"column_start":5,"column_end":99}},{"value":"/ the structure.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49962,"byte_end":49980,"line_start":1186,"line_end":1186,"column_start":5,"column_end":23}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49985,"byte_end":49988,"line_start":1187,"line_end":1187,"column_start":5,"column_end":8}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":49993,"byte_end":50007,"line_start":1188,"line_end":1188,"column_start":5,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50012,"byte_end":50015,"line_start":1189,"line_end":1189,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50020,"byte_end":50031,"line_start":1190,"line_end":1190,"column_start":5,"column_end":16}},{"value":"/ extern crate arc_swap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50036,"byte_end":50062,"line_start":1191,"line_end":1191,"column_start":5,"column_end":31}},{"value":"/ extern crate crossbeam_utils;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50067,"byte_end":50100,"line_start":1192,"line_end":1192,"column_start":5,"column_end":38}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50105,"byte_end":50108,"line_start":1193,"line_end":1193,"column_start":5,"column_end":8}},{"value":"/ use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50113,"byte_end":50136,"line_start":1194,"line_end":1194,"column_start":5,"column_end":28}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50141,"byte_end":50144,"line_start":1195,"line_end":1195,"column_start":5,"column_end":8}},{"value":"/ use arc_swap::ArcSwap;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50149,"byte_end":50175,"line_start":1196,"line_end":1196,"column_start":5,"column_end":31}},{"value":"/ use arc_swap::access::Access;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50180,"byte_end":50213,"line_start":1197,"line_end":1197,"column_start":5,"column_end":38}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50218,"byte_end":50221,"line_start":1198,"line_end":1198,"column_start":5,"column_end":8}},{"value":"/ struct Cfg {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50226,"byte_end":50242,"line_start":1199,"line_end":1199,"column_start":5,"column_end":21}},{"value":"/     value: usize,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50247,"byte_end":50268,"line_start":1200,"line_end":1200,"column_start":5,"column_end":26}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50273,"byte_end":50278,"line_start":1201,"line_end":1201,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50283,"byte_end":50286,"line_start":1202,"line_end":1202,"column_start":5,"column_end":8}},{"value":"/ fn print_many_times<V: Access<usize>>(value: V) {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50291,"byte_end":50344,"line_start":1203,"line_end":1203,"column_start":5,"column_end":58}},{"value":"/     for _ in 0..25 {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50349,"byte_end":50373,"line_start":1204,"line_end":1204,"column_start":5,"column_end":29}},{"value":"/         let value = value.load();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50378,"byte_end":50415,"line_start":1205,"line_end":1205,"column_start":5,"column_end":42}},{"value":"/         println!(\"{}\", *value);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50420,"byte_end":50455,"line_start":1206,"line_end":1206,"column_start":5,"column_end":40}},{"value":"/     }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50460,"byte_end":50469,"line_start":1207,"line_end":1207,"column_start":5,"column_end":14}},{"value":"/ }","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50474,"byte_end":50479,"line_start":1208,"line_end":1208,"column_start":5,"column_end":10}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50484,"byte_end":50487,"line_start":1209,"line_end":1209,"column_start":5,"column_end":8}},{"value":"/ let shared = ArcSwap::from_pointee(Cfg { value: 0 });","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50492,"byte_end":50549,"line_start":1210,"line_end":1210,"column_start":5,"column_end":62}},{"value":"/ let mapped = shared.map(|c: &Cfg| &c.value);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50554,"byte_end":50602,"line_start":1211,"line_end":1211,"column_start":5,"column_end":53}},{"value":"/ crossbeam_utils::thread::scope(|s| {","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50607,"byte_end":50647,"line_start":1212,"line_end":1212,"column_start":5,"column_end":45}},{"value":"/     // Will print some zeroes and some twos","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50652,"byte_end":50699,"line_start":1213,"line_end":1213,"column_start":5,"column_end":52}},{"value":"/     s.spawn(|_| print_many_times(mapped));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50704,"byte_end":50750,"line_start":1214,"line_end":1214,"column_start":5,"column_end":51}},{"value":"/     s.spawn(|_| shared.store(Arc::new(Cfg { value: 2 })));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50755,"byte_end":50817,"line_start":1215,"line_end":1215,"column_start":5,"column_end":67}},{"value":"/ }).expect(\"Something panicked in a thread\");","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50822,"byte_end":50870,"line_start":1216,"line_end":1216,"column_start":5,"column_end":53}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":50875,"byte_end":50882,"line_start":1217,"line_end":1217,"column_start":5,"column_end":12}}]},{"kind":"Type","id":{"krate":0,"index":525},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51207,"byte_end":51214,"line_start":1231,"line_end":1231,"column_start":10,"column_end":17},"name":"ArcSwap","qualname":"::ArcSwap","value":"ArcSwapAny<Arc<T>>","parent":null,"children":[],"decl_id":null,"docs":" An atomic storage for `Arc`.","sig":null,"attributes":[{"value":"/ An atomic storage for `Arc`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51049,"byte_end":51081,"line_start":1227,"line_end":1227,"column_start":1,"column_end":33}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51082,"byte_end":51085,"line_start":1228,"line_end":1228,"column_start":1,"column_end":4}},{"value":"/ This is a type alias only. Most of its methods are described on","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51086,"byte_end":51153,"line_start":1229,"line_end":1229,"column_start":1,"column_end":68}},{"value":"/ [`ArcSwapAny`](struct.ArcSwapAny.html).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51154,"byte_end":51197,"line_start":1230,"line_end":1230,"column_start":1,"column_end":44}}]},{"kind":"Method","id":{"krate":0,"index":530},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51439,"byte_end":51451,"line_start":1237,"line_end":1237,"column_start":12,"column_end":24},"name":"from_pointee","qualname":"<ArcSwapAny<Arc<T>, S>>::from_pointee","value":"pub fn from_pointee(T) -> Self","parent":null,"children":[],"decl_id":null,"docs":" A convenience constructor directly from the pointed-to value.","sig":null,"attributes":[{"value":"/ A convenience constructor directly from the pointed-to value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51293,"byte_end":51358,"line_start":1234,"line_end":1234,"column_start":5,"column_end":70}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51363,"byte_end":51366,"line_start":1235,"line_end":1235,"column_start":5,"column_end":8}},{"value":"/ Direct equivalent for `ArcSwap::new(Arc::new(val))`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51371,"byte_end":51427,"line_start":1236,"line_end":1236,"column_start":5,"column_end":61}}]},{"kind":"Method","id":{"krate":0,"index":531},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52550,"byte_end":52560,"line_start":1258,"line_end":1258,"column_start":12,"column_end":22},"name":"rcu_unwrap","qualname":"<ArcSwapAny<Arc<T>, S>>::rcu_unwrap","value":"pub fn rcu_unwrap<R, F>(&Self, F) -> T where F: FnMut(&T) -> R,\nR: Into<Arc<T>>","parent":null,"children":[],"decl_id":null,"docs":" An [`rcu`](struct.ArcSwapAny.html#method.rcu) which waits to be the sole owner of the\n original value and unwraps it.","sig":null,"attributes":[{"value":"/ An [`rcu`](struct.ArcSwapAny.html#method.rcu) which waits to be the sole owner of the","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51515,"byte_end":51604,"line_start":1241,"line_end":1241,"column_start":5,"column_end":94}},{"value":"/ original value and unwraps it.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51609,"byte_end":51643,"line_start":1242,"line_end":1242,"column_start":5,"column_end":39}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51648,"byte_end":51651,"line_start":1243,"line_end":1243,"column_start":5,"column_end":8}},{"value":"/ This one works the same way as the [`rcu`](struct.ArcSwapAny.html#method.rcu) method, but","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51656,"byte_end":51749,"line_start":1244,"line_end":1244,"column_start":5,"column_end":98}},{"value":"/ works on the inner type instead of `Arc`. After replacing the original, it waits until","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51754,"byte_end":51844,"line_start":1245,"line_end":1245,"column_start":5,"column_end":95}},{"value":"/ there are no other owners of the arc and unwraps it.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51849,"byte_end":51905,"line_start":1246,"line_end":1246,"column_start":5,"column_end":61}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51910,"byte_end":51913,"line_start":1247,"line_end":1247,"column_start":5,"column_end":8}},{"value":"/ Possible use case might be an RCU with a structure that is rather slow to drop ‒ if it was","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51918,"byte_end":52014,"line_start":1248,"line_end":1248,"column_start":5,"column_end":99}},{"value":"/ left to random reader (the last one to hold the old value), it could cause a timeout or","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52019,"byte_end":52110,"line_start":1249,"line_end":1249,"column_start":5,"column_end":96}},{"value":"/ jitter in a query time. With this, the deallocation is done in the updater thread,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52115,"byte_end":52201,"line_start":1250,"line_end":1250,"column_start":5,"column_end":91}},{"value":"/ therefore outside of the hot local_path.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52206,"byte_end":52244,"line_start":1251,"line_end":1251,"column_start":5,"column_end":43}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52249,"byte_end":52252,"line_start":1252,"line_end":1252,"column_start":5,"column_end":8}},{"value":"/ # Warning","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52257,"byte_end":52270,"line_start":1253,"line_end":1253,"column_start":5,"column_end":18}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52275,"byte_end":52278,"line_start":1254,"line_end":1254,"column_start":5,"column_end":8}},{"value":"/ Note that if you store a copy of the `Arc` somewhere except the `ArcSwap` itself for","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52283,"byte_end":52371,"line_start":1255,"line_end":1255,"column_start":5,"column_end":93}},{"value":"/ extended period of time, this'll busy-wait the whole time. Unless you need the assurance","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52376,"byte_end":52468,"line_start":1256,"line_end":1256,"column_start":5,"column_end":97}},{"value":"/ the `Arc` is deconstructed here, prefer [`rcu`](#method.rcu).","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52473,"byte_end":52538,"line_start":1257,"line_end":1257,"column_start":5,"column_end":70}}]},{"kind":"Type","id":{"krate":0,"index":535},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53689,"byte_end":53702,"line_start":1296,"line_end":1296,"column_start":10,"column_end":23},"name":"ArcSwapOption","qualname":"::ArcSwapOption","value":"ArcSwapAny<Option<Arc<T>>>","parent":null,"children":[],"decl_id":null,"docs":" An atomic storage for `Option<Arc>`.","sig":null,"attributes":[{"value":"/ An atomic storage for `Option<Arc>`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":52963,"byte_end":53003,"line_start":1276,"line_end":1276,"column_start":1,"column_end":41}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53004,"byte_end":53007,"line_start":1277,"line_end":1277,"column_start":1,"column_end":4}},{"value":"/ This is very similar to [`ArcSwap`](type.ArcSwap.html), but allows storing NULL values, which","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53008,"byte_end":53105,"line_start":1278,"line_end":1278,"column_start":1,"column_end":98}},{"value":"/ is useful in some situations.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53106,"byte_end":53139,"line_start":1279,"line_end":1279,"column_start":1,"column_end":34}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53140,"byte_end":53143,"line_start":1280,"line_end":1280,"column_start":1,"column_end":4}},{"value":"/ This is a type alias only. Most of the methods are described on","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53144,"byte_end":53211,"line_start":1281,"line_end":1281,"column_start":1,"column_end":68}},{"value":"/ [`ArcSwapAny`](struct.ArcSwapAny.html). Even though the examples there often use `ArcSwap`,","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53212,"byte_end":53307,"line_start":1282,"line_end":1282,"column_start":1,"column_end":96}},{"value":"/ they are applicable to `ArcSwapOption` with appropriate changes.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53308,"byte_end":53376,"line_start":1283,"line_end":1283,"column_start":1,"column_end":69}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53377,"byte_end":53380,"line_start":1284,"line_end":1284,"column_start":1,"column_end":4}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53381,"byte_end":53395,"line_start":1285,"line_end":1285,"column_start":1,"column_end":15}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53396,"byte_end":53399,"line_start":1286,"line_end":1286,"column_start":1,"column_end":4}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53400,"byte_end":53407,"line_start":1287,"line_end":1287,"column_start":1,"column_end":8}},{"value":"/ use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53408,"byte_end":53431,"line_start":1288,"line_end":1288,"column_start":1,"column_end":24}},{"value":"/ use arc_swap::ArcSwapOption;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53432,"byte_end":53464,"line_start":1289,"line_end":1289,"column_start":1,"column_end":33}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53465,"byte_end":53468,"line_start":1290,"line_end":1290,"column_start":1,"column_end":4}},{"value":"/ let shared = ArcSwapOption::from(None);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53469,"byte_end":53512,"line_start":1291,"line_end":1291,"column_start":1,"column_end":44}},{"value":"/ assert!(shared.load_full().is_none());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53513,"byte_end":53555,"line_start":1292,"line_end":1292,"column_start":1,"column_end":43}},{"value":"/ assert!(shared.swap(Some(Arc::new(42))).is_none());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53556,"byte_end":53611,"line_start":1293,"line_end":1293,"column_start":1,"column_end":56}},{"value":"/ assert_eq!(42, **shared.load_full().as_ref().unwrap());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53612,"byte_end":53671,"line_start":1294,"line_end":1294,"column_start":1,"column_end":60}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53672,"byte_end":53679,"line_start":1295,"line_end":1295,"column_start":1,"column_end":8}}]},{"kind":"Method","id":{"krate":0,"index":540},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54301,"byte_end":54313,"line_start":1313,"line_end":1313,"column_start":12,"column_end":24},"name":"from_pointee","qualname":"<ArcSwapAny<Option<Arc<T>>, S>>::from_pointee","value":"pub fn from_pointee<V: Into<Option<T>>>(V) -> Self","parent":null,"children":[],"decl_id":null,"docs":" A convenience constructor directly from a pointed-to value.","sig":null,"attributes":[{"value":"/ A convenience constructor directly from a pointed-to value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53797,"byte_end":53860,"line_start":1299,"line_end":1299,"column_start":5,"column_end":68}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53865,"byte_end":53868,"line_start":1300,"line_end":1300,"column_start":5,"column_end":8}},{"value":"/ This just allocates the `Arc` under the hood.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53873,"byte_end":53922,"line_start":1301,"line_end":1301,"column_start":5,"column_end":54}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53927,"byte_end":53930,"line_start":1302,"line_end":1302,"column_start":5,"column_end":8}},{"value":"/ # Examples","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53935,"byte_end":53949,"line_start":1303,"line_end":1303,"column_start":5,"column_end":19}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53954,"byte_end":53957,"line_start":1304,"line_end":1304,"column_start":5,"column_end":8}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53962,"byte_end":53973,"line_start":1305,"line_end":1305,"column_start":5,"column_end":16}},{"value":"/ use arc_swap::ArcSwapOption;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53978,"byte_end":54010,"line_start":1306,"line_end":1306,"column_start":5,"column_end":37}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54015,"byte_end":54018,"line_start":1307,"line_end":1307,"column_start":5,"column_end":8}},{"value":"/ let empty: ArcSwapOption<usize> = ArcSwapOption::from_pointee(None);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54023,"byte_end":54095,"line_start":1308,"line_end":1308,"column_start":5,"column_end":77}},{"value":"/ assert!(empty.load().is_none());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54100,"byte_end":54136,"line_start":1309,"line_end":1309,"column_start":5,"column_end":41}},{"value":"/ let non_empty: ArcSwapOption<usize> = ArcSwapOption::from_pointee(42);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54141,"byte_end":54215,"line_start":1310,"line_end":1310,"column_start":5,"column_end":79}},{"value":"/ assert_eq!(42, **non_empty.load().as_ref().unwrap());","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54220,"byte_end":54277,"line_start":1311,"line_end":1311,"column_start":5,"column_end":62}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54282,"byte_end":54289,"line_start":1312,"line_end":1312,"column_start":5,"column_end":12}}]},{"kind":"Method","id":{"krate":0,"index":542},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54534,"byte_end":54539,"line_start":1320,"line_end":1320,"column_start":12,"column_end":17},"name":"empty","qualname":"<ArcSwapAny<Option<Arc<T>>, S>>::empty","value":"pub fn empty() -> Self","parent":null,"children":[],"decl_id":null,"docs":" A convenience constructor for an empty value.","sig":null,"attributes":[{"value":"/ A convenience constructor for an empty value.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54407,"byte_end":54456,"line_start":1317,"line_end":1317,"column_start":5,"column_end":54}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54461,"byte_end":54464,"line_start":1318,"line_end":1318,"column_start":5,"column_end":8}},{"value":"/ This is equivalent to `ArcSwapOption::new(None)`.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54469,"byte_end":54522,"line_start":1319,"line_end":1319,"column_start":5,"column_end":58}}]},{"kind":"Type","id":{"krate":0,"index":543},"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55477,"byte_end":55495,"line_start":1346,"line_end":1346,"column_start":10,"column_end":28},"name":"IndependentArcSwap","qualname":"::IndependentArcSwap","value":"ArcSwapAny<Arc<T>, PrivateUnsharded>","parent":null,"children":[],"decl_id":null,"docs":" An atomic storage that doesn't share the internal generation locks with others.","sig":null,"attributes":[{"value":"/ An atomic storage that doesn't share the internal generation locks with others.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54585,"byte_end":54668,"line_start":1325,"line_end":1325,"column_start":1,"column_end":84}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54669,"byte_end":54672,"line_start":1326,"line_end":1326,"column_start":1,"column_end":4}},{"value":"/ This makes it bigger and it also might suffer contention (on the HW level) if used from many","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54673,"byte_end":54769,"line_start":1327,"line_end":1327,"column_start":1,"column_end":97}},{"value":"/ threads at once. But using [`load_signal_safe`](struct.ArcSwapAny.html#method.load_signal_safe)","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54770,"byte_end":54869,"line_start":1328,"line_end":1328,"column_start":1,"column_end":100}},{"value":"/ will not block writes on other instances.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54870,"byte_end":54915,"line_start":1329,"line_end":1329,"column_start":1,"column_end":46}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54916,"byte_end":54919,"line_start":1330,"line_end":1330,"column_start":1,"column_end":4}},{"value":"/ ```rust","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54920,"byte_end":54931,"line_start":1331,"line_end":1331,"column_start":1,"column_end":12}},{"value":"/ # use std::sync::Arc;","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54932,"byte_end":54957,"line_start":1332,"line_end":1332,"column_start":1,"column_end":26}},{"value":"/ # use arc_swap::{ArcSwap, IndependentArcSwap};","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":54958,"byte_end":55008,"line_start":1333,"line_end":1333,"column_start":1,"column_end":51}},{"value":"/ // This one shares locks with others.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55009,"byte_end":55050,"line_start":1334,"line_end":1334,"column_start":1,"column_end":42}},{"value":"/ let shared = ArcSwap::from_pointee(42);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55051,"byte_end":55094,"line_start":1335,"line_end":1335,"column_start":1,"column_end":44}},{"value":"/ // But this one has an independent lock.","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55095,"byte_end":55139,"line_start":1336,"line_end":1336,"column_start":1,"column_end":45}},{"value":"/ let independent = IndependentArcSwap::from_pointee(42);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55140,"byte_end":55199,"line_start":1337,"line_end":1337,"column_start":1,"column_end":60}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55200,"byte_end":55203,"line_start":1338,"line_end":1338,"column_start":1,"column_end":4}},{"value":"/ // This'll hold a lock so any writers there wouldn't complete","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55204,"byte_end":55269,"line_start":1339,"line_end":1339,"column_start":1,"column_end":66}},{"value":"/ let l = independent.load_signal_safe();","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55270,"byte_end":55313,"line_start":1340,"line_end":1340,"column_start":1,"column_end":44}},{"value":"/ // But the lock doesn't influence the shared one, so this goes through just fine","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55314,"byte_end":55398,"line_start":1341,"line_end":1341,"column_start":1,"column_end":85}},{"value":"/ shared.store(Arc::new(43));","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55399,"byte_end":55430,"line_start":1342,"line_end":1342,"column_start":1,"column_end":32}},{"value":"/","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55431,"byte_end":55434,"line_start":1343,"line_end":1343,"column_start":1,"column_end":4}},{"value":"/ assert_eq!(42, **l);","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55435,"byte_end":55459,"line_start":1344,"line_end":1344,"column_start":1,"column_end":25}},{"value":"/ ```","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":55460,"byte_end":55467,"line_start":1345,"line_end":1345,"column_start":1,"column_end":8}}]}],"impls":[{"id":0,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78560,"byte_end":78561,"line_start":114,"line_end":114,"column_start":59,"column_end":60},"value":"","parent":null,"children":[{"krate":0,"index":37},{"krate":0,"index":38}],"docs":"","sig":null,"attributes":[]},{"id":1,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78710,"byte_end":78720,"line_start":121,"line_end":121,"column_start":47,"column_end":57},"value":"","parent":null,"children":[{"krate":0,"index":42},{"krate":0,"index":43}],"docs":"","sig":null,"attributes":[]},{"id":2,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79009,"byte_end":79020,"line_start":135,"line_end":135,"column_start":19,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":46},{"krate":0,"index":47}],"docs":"","sig":null,"attributes":[]},{"id":3,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79158,"byte_end":79168,"line_start":142,"line_end":142,"column_start":39,"column_end":49},"value":"","parent":null,"children":[{"krate":0,"index":51},{"krate":0,"index":52}],"docs":"","sig":null,"attributes":[]},{"id":4,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79316,"byte_end":79327,"line_start":149,"line_end":149,"column_start":19,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":55},{"krate":0,"index":56}],"docs":"","sig":null,"attributes":[]},{"id":5,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79464,"byte_end":79474,"line_start":156,"line_end":156,"column_start":39,"column_end":49},"value":"","parent":null,"children":[{"krate":0,"index":60},{"krate":0,"index":61}],"docs":"","sig":null,"attributes":[]},{"id":6,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79798,"byte_end":79806,"line_start":168,"line_end":168,"column_start":27,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":68},{"krate":0,"index":69}],"docs":"","sig":null,"attributes":[]},{"id":7,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80807,"byte_end":80808,"line_start":206,"line_end":206,"column_start":29,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":76}],"docs":"","sig":null,"attributes":[]},{"id":8,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81263,"byte_end":81271,"line_start":227,"line_end":227,"column_start":28,"column_end":36},"value":"","parent":null,"children":[{"krate":0,"index":82},{"krate":0,"index":83}],"docs":"","sig":null,"attributes":[]},{"id":9,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81753,"byte_end":81756,"line_start":249,"line_end":249,"column_start":15,"column_end":18},"value":"","parent":null,"children":[{"krate":0,"index":88}],"docs":"","sig":null,"attributes":[]},{"id":10,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82622,"byte_end":82625,"line_start":273,"line_end":273,"column_start":32,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":95},{"krate":0,"index":96}],"docs":"","sig":null,"attributes":[]},{"id":11,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83209,"byte_end":83222,"line_start":296,"line_end":296,"column_start":19,"column_end":32},"value":"","parent":null,"children":[{"krate":0,"index":99},{"krate":0,"index":100}],"docs":"","sig":null,"attributes":[]},{"id":12,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83818,"byte_end":83826,"line_start":314,"line_end":314,"column_start":30,"column_end":38},"value":"","parent":null,"children":[{"krate":0,"index":103},{"krate":0,"index":104}],"docs":"","sig":null,"attributes":[]},{"id":13,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87995,"byte_end":88000,"line_start":42,"line_end":42,"column_start":40,"column_end":45},"value":"","parent":null,"children":[{"krate":0,"index":127}],"docs":"","sig":null,"attributes":[]},{"id":14,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90894,"byte_end":90899,"line_start":79,"line_end":79,"column_start":15,"column_end":20},"value":"","parent":null,"children":[{"krate":0,"index":157},{"krate":0,"index":158},{"krate":0,"index":159},{"krate":0,"index":160},{"krate":0,"index":161},{"krate":0,"index":162}],"docs":"","sig":null,"attributes":[]},{"id":15,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95018,"byte_end":95023,"line_start":195,"line_end":195,"column_start":37,"column_end":42},"value":"","parent":null,"children":[{"krate":0,"index":169}],"docs":"","sig":null,"attributes":[]},{"id":16,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95254,"byte_end":95259,"line_start":206,"line_end":206,"column_start":27,"column_end":32},"value":"","parent":null,"children":[{"krate":0,"index":174}],"docs":"","sig":null,"attributes":[]},{"id":17,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95783,"byte_end":95791,"line_start":227,"line_end":227,"column_start":35,"column_end":43},"value":"","parent":null,"children":[{"krate":0,"index":181}],"docs":"","sig":null,"attributes":[]},{"id":18,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":101936,"byte_end":101940,"line_start":12,"line_end":12,"column_start":18,"column_end":22},"value":"","parent":null,"children":[{"krate":0,"index":211}],"docs":"","sig":null,"attributes":[]},{"id":19,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":102252,"byte_end":102256,"line_start":30,"line_end":30,"column_start":18,"column_end":22},"value":"","parent":null,"children":[{"krate":0,"index":217}],"docs":"","sig":null,"attributes":[]},{"id":20,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":102431,"byte_end":102435,"line_start":40,"line_end":40,"column_start":6,"column_end":10},"value":"","parent":null,"children":[{"krate":0,"index":219}],"docs":"","sig":null,"attributes":[]},{"id":21,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":104993,"byte_end":105001,"line_start":102,"line_end":102,"column_start":15,"column_end":23},"value":"","parent":null,"children":[{"krate":0,"index":228}],"docs":"","sig":null,"attributes":[]},{"id":22,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":106260,"byte_end":106264,"line_start":140,"line_end":140,"column_start":6,"column_end":10},"value":"","parent":null,"children":[{"krate":0,"index":233},{"krate":0,"index":236},{"krate":0,"index":238}],"docs":"","sig":null,"attributes":[]},{"id":23,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113533,"byte_end":113538,"line_start":50,"line_end":50,"column_start":6,"column_end":11},"value":"","parent":null,"children":[{"krate":0,"index":255}],"docs":"","sig":null,"attributes":[]},{"id":24,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116371,"byte_end":116377,"line_start":137,"line_end":137,"column_start":29,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":270},{"krate":0,"index":271},{"krate":0,"index":272},{"krate":0,"index":273}],"docs":"","sig":null,"attributes":[]},{"id":25,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118112,"byte_end":118128,"line_start":194,"line_end":194,"column_start":29,"column_end":45},"value":"","parent":null,"children":[{"krate":0,"index":276},{"krate":0,"index":278},{"krate":0,"index":279},{"krate":0,"index":281}],"docs":"","sig":null,"attributes":[]},{"id":26,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":119546,"byte_end":119560,"line_start":242,"line_end":242,"column_start":58,"column_end":72},"value":"","parent":null,"children":[{"krate":0,"index":285},{"krate":0,"index":286},{"krate":0,"index":287},{"krate":0,"index":288}],"docs":"","sig":null,"attributes":[]},{"id":27,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":125133,"byte_end":125136,"line_start":87,"line_end":87,"column_start":27,"column_end":30},"value":"","parent":null,"children":[{"krate":0,"index":309},{"krate":0,"index":310},{"krate":0,"index":311},{"krate":0,"index":312}],"docs":"","sig":null,"attributes":[]},{"id":28,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":125439,"byte_end":125441,"line_start":100,"line_end":100,"column_start":27,"column_end":29},"value":"","parent":null,"children":[{"krate":0,"index":315},{"krate":0,"index":316},{"krate":0,"index":317},{"krate":0,"index":318}],"docs":"","sig":null,"attributes":[]},{"id":29,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":125747,"byte_end":125753,"line_start":113,"line_end":113,"column_start":35,"column_end":41},"value":"","parent":null,"children":[{"krate":0,"index":321},{"krate":0,"index":322},{"krate":0,"index":323},{"krate":0,"index":324}],"docs":"","sig":null,"attributes":[]},{"id":30,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":21228,"byte_end":21235,"line_start":431,"line_end":431,"column_start":10,"column_end":17},"value":"","parent":null,"children":[{"krate":0,"index":417},{"krate":0,"index":419}],"docs":"","sig":null,"attributes":[]},{"id":31,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":22438,"byte_end":22445,"line_start":461,"line_end":461,"column_start":19,"column_end":26},"value":"","parent":null,"children":[{"krate":0,"index":422}],"docs":"","sig":null,"attributes":[]},{"id":32,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":22967,"byte_end":22977,"line_start":479,"line_end":479,"column_start":42,"column_end":52},"value":"","parent":null,"children":[{"krate":0,"index":435}],"docs":"","sig":null,"attributes":[]},{"id":33,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23572,"byte_end":23577,"line_start":498,"line_end":498,"column_start":21,"column_end":26},"value":"","parent":null,"children":[{"krate":0,"index":444},{"krate":0,"index":445},{"krate":0,"index":446}],"docs":"","sig":null,"attributes":[]},{"id":34,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":26172,"byte_end":26177,"line_start":567,"line_end":567,"column_start":31,"column_end":36},"value":"","parent":null,"children":[{"krate":0,"index":450},{"krate":0,"index":451}],"docs":"","sig":null,"attributes":[]},{"id":35,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":26324,"byte_end":26329,"line_start":575,"line_end":575,"column_start":39,"column_end":44},"value":"","parent":null,"children":[{"krate":0,"index":455}],"docs":"","sig":null,"attributes":[]},{"id":36,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":26486,"byte_end":26491,"line_start":581,"line_end":581,"column_start":43,"column_end":48},"value":"","parent":null,"children":[{"krate":0,"index":459}],"docs":"","sig":null,"attributes":[]},{"id":37,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":26635,"byte_end":26640,"line_start":587,"line_end":587,"column_start":30,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":463}],"docs":"","sig":null,"attributes":[]},{"id":38,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30817,"byte_end":30827,"line_start":698,"line_end":698,"column_start":45,"column_end":55},"value":"","parent":null,"children":[{"krate":0,"index":478}],"docs":"","sig":null,"attributes":[]},{"id":39,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":31326,"byte_end":31336,"line_start":712,"line_end":712,"column_start":42,"column_end":52},"value":"","parent":null,"children":[{"krate":0,"index":482}],"docs":"","sig":null,"attributes":[]},{"id":40,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":31623,"byte_end":31633,"line_start":722,"line_end":722,"column_start":43,"column_end":53},"value":"","parent":null,"children":[{"krate":0,"index":486}],"docs":"","sig":null,"attributes":[]},{"id":41,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":31752,"byte_end":31762,"line_start":728,"line_end":728,"column_start":35,"column_end":45},"value":"","parent":null,"children":[{"krate":0,"index":490}],"docs":"","sig":null,"attributes":[]},{"id":42,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32017,"byte_end":32027,"line_start":740,"line_end":740,"column_start":37,"column_end":47},"value":"","parent":null,"children":[{"krate":0,"index":494}],"docs":"","sig":null,"attributes":[]},{"id":43,"kind":"Direct","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32225,"byte_end":32235,"line_start":749,"line_end":749,"column_start":55,"column_end":65},"value":"","parent":null,"children":[{"krate":0,"index":498}],"docs":"","sig":null,"attributes":[]},{"id":44,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32344,"byte_end":32354,"line_start":755,"line_end":755,"column_start":33,"column_end":43},"value":"","parent":null,"children":[{"krate":0,"index":502},{"krate":0,"index":503},{"krate":0,"index":504},{"krate":0,"index":505},{"krate":0,"index":506},{"krate":0,"index":507},{"krate":0,"index":508},{"krate":0,"index":510},{"krate":0,"index":511},{"krate":0,"index":512},{"krate":0,"index":514},{"krate":0,"index":518},{"krate":0,"index":521}],"docs":"","sig":null,"attributes":[]},{"id":45,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51265,"byte_end":51275,"line_start":1233,"line_end":1233,"column_start":25,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":530},{"krate":0,"index":531}],"docs":"","sig":null,"attributes":[]},{"id":46,"kind":"Inherent","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53761,"byte_end":53771,"line_start":1298,"line_end":1298,"column_start":25,"column_end":35},"value":"","parent":null,"children":[{"krate":0,"index":540},{"krate":0,"index":542}],"docs":"","sig":null,"attributes":[]}],"refs":[{"kind":"Mod","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12720,"byte_end":12726,"line_start":269,"line_end":269,"column_start":9,"column_end":15},"ref_id":{"krate":0,"index":3}},{"kind":"Mod","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12748,"byte_end":12753,"line_start":271,"line_end":271,"column_start":9,"column_end":14},"ref_id":{"krate":0,"index":134}},{"kind":"Mod","span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":12797,"byte_end":12805,"line_start":274,"line_end":274,"column_start":9,"column_end":17},"ref_id":{"krate":0,"index":241}}],"macro_refs":[],"relations":[{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78560,"byte_end":78561,"line_start":114,"line_end":114,"column_start":59,"column_end":60},"kind":{"Impl":{"id":0}},"from":{"krate":0,"index":36},"to":{"krate":0,"index":29}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":78710,"byte_end":78720,"line_start":121,"line_end":121,"column_start":47,"column_end":57},"kind":{"Impl":{"id":1}},"from":{"krate":0,"index":469},"to":{"krate":0,"index":29}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79009,"byte_end":79020,"line_start":135,"line_end":135,"column_start":19,"column_end":30},"kind":{"Impl":{"id":2}},"from":{"krate":0,"index":545},"to":{"krate":2,"index":3227}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79158,"byte_end":79168,"line_start":142,"line_end":142,"column_start":39,"column_end":49},"kind":{"Impl":{"id":3}},"from":{"krate":0,"index":469},"to":{"krate":0,"index":29}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79316,"byte_end":79327,"line_start":149,"line_end":149,"column_start":19,"column_end":30},"kind":{"Impl":{"id":4}},"from":{"krate":0,"index":545},"to":{"krate":2,"index":3227}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79464,"byte_end":79474,"line_start":156,"line_end":156,"column_start":39,"column_end":49},"kind":{"Impl":{"id":5}},"from":{"krate":0,"index":469},"to":{"krate":0,"index":29}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":79798,"byte_end":79806,"line_start":168,"line_end":168,"column_start":27,"column_end":35},"kind":{"Impl":{"id":6}},"from":{"krate":0,"index":62},"to":{"krate":2,"index":3227}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":80807,"byte_end":80808,"line_start":206,"line_end":206,"column_start":29,"column_end":30},"kind":{"Impl":{"id":7}},"from":{"krate":0,"index":75},"to":{"krate":0,"index":70}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81263,"byte_end":81271,"line_start":227,"line_end":227,"column_start":28,"column_end":36},"kind":{"Impl":{"id":8}},"from":{"krate":0,"index":552},"to":{"krate":2,"index":3227}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":81753,"byte_end":81756,"line_start":249,"line_end":249,"column_start":15,"column_end":18},"kind":{"Impl":{"id":9}},"from":{"krate":0,"index":577},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":82622,"byte_end":82625,"line_start":273,"line_end":273,"column_start":32,"column_end":35},"kind":{"Impl":{"id":10}},"from":{"krate":0,"index":577},"to":{"krate":0,"index":29}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83209,"byte_end":83222,"line_start":296,"line_end":296,"column_start":19,"column_end":32},"kind":{"Impl":{"id":11}},"from":{"krate":0,"index":598},"to":{"krate":2,"index":3227}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/access.rs","byte_start":83818,"byte_end":83826,"line_start":314,"line_end":314,"column_start":30,"column_end":38},"kind":{"Impl":{"id":12}},"from":{"krate":0,"index":631},"to":{"krate":0,"index":29}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/as_raw.rs","byte_start":87995,"byte_end":88000,"line_start":42,"line_end":42,"column_start":40,"column_end":45},"kind":{"Impl":{"id":13}},"from":{"krate":0,"index":436},"to":{"krate":0,"index":113}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":90894,"byte_end":90899,"line_start":79,"line_end":79,"column_start":15,"column_end":20},"kind":{"Impl":{"id":14}},"from":{"krate":0,"index":664},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95018,"byte_end":95023,"line_start":195,"line_end":195,"column_start":37,"column_end":42},"kind":{"Impl":{"id":15}},"from":{"krate":0,"index":664},"to":{"krate":0,"index":150}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95254,"byte_end":95259,"line_start":206,"line_end":206,"column_start":27,"column_end":32},"kind":{"Impl":{"id":16}},"from":{"krate":0,"index":664},"to":{"krate":2,"index":2922}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/cache.rs","byte_start":95783,"byte_end":95791,"line_start":227,"line_end":227,"column_start":35,"column_end":43},"kind":{"Impl":{"id":17}},"from":{"krate":0,"index":677},"to":{"krate":0,"index":150}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":101936,"byte_end":101940,"line_start":12,"line_end":12,"column_start":18,"column_end":22},"kind":{"Impl":{"id":18}},"from":{"krate":0,"index":207},"to":{"krate":2,"index":2994}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":102252,"byte_end":102256,"line_start":30,"line_end":30,"column_start":18,"column_end":22},"kind":{"Impl":{"id":19}},"from":{"krate":0,"index":212},"to":{"krate":2,"index":2994}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":102431,"byte_end":102435,"line_start":40,"line_end":40,"column_start":6,"column_end":10},"kind":{"Impl":{"id":20}},"from":{"krate":0,"index":212},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":104993,"byte_end":105001,"line_start":102,"line_end":102,"column_start":15,"column_end":23},"kind":{"Impl":{"id":21}},"from":{"krate":0,"index":224},"to":{"krate":2,"index":3251}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/debt.rs","byte_start":106260,"byte_end":106264,"line_start":140,"line_end":140,"column_start":6,"column_end":10},"kind":{"Impl":{"id":22}},"from":{"krate":0,"index":207},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":113533,"byte_end":113538,"line_start":50,"line_end":50,"column_start":6,"column_end":11},"kind":{"Impl":{"id":23}},"from":{"krate":0,"index":703},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":114293,"byte_end":114300,"line_start":67,"line_end":67,"column_start":31,"column_end":38},"kind":"SuperTrait","from":{"krate":2,"index":2994},"to":{"krate":0,"index":257}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":116371,"byte_end":116377,"line_start":137,"line_end":137,"column_start":29,"column_end":35},"kind":{"Impl":{"id":24}},"from":{"krate":0,"index":713},"to":{"krate":0,"index":257}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":118112,"byte_end":118128,"line_start":194,"line_end":194,"column_start":29,"column_end":45},"kind":{"Impl":{"id":25}},"from":{"krate":0,"index":717},"to":{"krate":0,"index":257}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/gen_lock.rs","byte_start":119546,"byte_end":119560,"line_start":242,"line_end":242,"column_start":58,"column_end":72},"kind":{"Impl":{"id":26}},"from":{"krate":0,"index":723},"to":{"krate":0,"index":257}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":123131,"byte_end":123136,"line_start":37,"line_end":37,"column_start":26,"column_end":31},"kind":"SuperTrait","from":{"krate":2,"index":2637},"to":{"krate":0,"index":300}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":125133,"byte_end":125136,"line_start":87,"line_end":87,"column_start":27,"column_end":30},"kind":{"Impl":{"id":27}},"from":{"krate":5,"index":5966},"to":{"krate":0,"index":300}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":125439,"byte_end":125441,"line_start":100,"line_end":100,"column_start":27,"column_end":29},"kind":{"Impl":{"id":28}},"from":{"krate":5,"index":4648},"to":{"krate":0,"index":300}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/ref_cnt.rs","byte_start":125747,"byte_end":125753,"line_start":113,"line_end":113,"column_start":35,"column_end":41},"kind":{"Impl":{"id":29}},"from":{"krate":2,"index":43439},"to":{"krate":0,"index":300}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":21228,"byte_end":21235,"line_start":431,"line_end":431,"column_start":10,"column_end":17},"kind":{"Impl":{"id":30}},"from":{"krate":0,"index":412},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":22438,"byte_end":22445,"line_start":461,"line_end":461,"column_start":19,"column_end":26},"kind":{"Impl":{"id":31}},"from":{"krate":0,"index":412},"to":{"krate":2,"index":3251}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":22967,"byte_end":22977,"line_start":479,"line_end":479,"column_start":42,"column_end":52},"kind":{"Impl":{"id":32}},"from":{"krate":0,"index":423},"to":{"krate":2,"index":2922}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":23572,"byte_end":23577,"line_start":498,"line_end":498,"column_start":21,"column_end":26},"kind":{"Impl":{"id":33}},"from":{"krate":0,"index":436},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":26172,"byte_end":26177,"line_start":567,"line_end":567,"column_start":31,"column_end":36},"kind":{"Impl":{"id":34}},"from":{"krate":0,"index":436},"to":{"krate":2,"index":3227}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":26324,"byte_end":26329,"line_start":575,"line_end":575,"column_start":39,"column_end":44},"kind":{"Impl":{"id":35}},"from":{"krate":0,"index":436},"to":{"krate":2,"index":9396}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":26486,"byte_end":26491,"line_start":581,"line_end":581,"column_start":43,"column_end":48},"kind":{"Impl":{"id":36}},"from":{"krate":0,"index":436},"to":{"krate":2,"index":9403}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":26635,"byte_end":26640,"line_start":587,"line_end":587,"column_start":30,"column_end":35},"kind":{"Impl":{"id":37}},"from":{"krate":0,"index":436},"to":{"krate":2,"index":3251}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":30817,"byte_end":30827,"line_start":698,"line_end":698,"column_start":45,"column_end":55},"kind":{"Impl":{"id":38}},"from":{"krate":0,"index":469},"to":{"krate":2,"index":2922}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":31326,"byte_end":31336,"line_start":712,"line_end":712,"column_start":42,"column_end":52},"kind":{"Impl":{"id":39}},"from":{"krate":0,"index":469},"to":{"krate":2,"index":3251}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":31623,"byte_end":31633,"line_start":722,"line_end":722,"column_start":43,"column_end":53},"kind":{"Impl":{"id":40}},"from":{"krate":0,"index":469},"to":{"krate":2,"index":2637}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":31752,"byte_end":31762,"line_start":728,"line_end":728,"column_start":35,"column_end":45},"kind":{"Impl":{"id":41}},"from":{"krate":0,"index":469},"to":{"krate":2,"index":9396}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32017,"byte_end":32027,"line_start":740,"line_end":740,"column_start":37,"column_end":47},"kind":{"Impl":{"id":42}},"from":{"krate":0,"index":469},"to":{"krate":2,"index":9403}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32225,"byte_end":32235,"line_start":749,"line_end":749,"column_start":55,"column_end":65},"kind":{"Impl":{"id":43}},"from":{"krate":0,"index":469},"to":{"krate":2,"index":2994}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":32344,"byte_end":32354,"line_start":755,"line_end":755,"column_start":33,"column_end":43},"kind":{"Impl":{"id":44}},"from":{"krate":0,"index":469},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":51265,"byte_end":51275,"line_start":1233,"line_end":1233,"column_start":25,"column_end":35},"kind":{"Impl":{"id":45}},"from":{"krate":0,"index":469},"to":{"krate":4294967295,"index":4294967295}},{"span":{"fuse_name":"/Users/tyco/.cargo/registry/src/github.com-1ecc6299db9ec823/arc-swap-0.4.8/src/lib.rs","byte_start":53761,"byte_end":53771,"line_start":1298,"line_end":1298,"column_start":25,"column_end":35},"kind":{"Impl":{"id":46}},"from":{"krate":0,"index":469},"to":{"krate":4294967295,"index":4294967295}}]}